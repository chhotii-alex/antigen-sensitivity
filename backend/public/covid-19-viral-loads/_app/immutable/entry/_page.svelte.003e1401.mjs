import{S as ka,i as wa,s as Ea,k as v,J as W,l as y,m as g,K as X,h,n as o,L as Na,b as O,G as f,M as Ii,H as kn,q as w,r as E,N as We,e as ce,a as D,c as T,u as ue,y as Ma,z as Aa,O as $o,P as Se,A as Pa,Q as Br,R as oa,T as we,U as On,g as $e,d as Ze,f as yi,B as xa,V as bo,o as Oo,W as jn,X as Sa,Y as Ia,v as ki,Z as jo,_ as qr}from"../chunks/index.82d815d5.mjs";function zn(t){for(var e=t.length/6|0,n=new Array(e),a=0;a<e;)n[a]="#"+t.slice(a*6,++a*6);return n}function Li(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vo(t,e){var n=Object.create(t.prototype);for(var a in e)n[a]=e[a];return n}function Fn(){}var Hn=.7,da=1/Hn,yn="\\s*([+-]?\\d+)\\s*",Rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ho=/^#([0-9a-f]{3,8})$/,Ro=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),Co=new RegExp(`^rgb\\(${et},${et},${et}\\)$`),zo=new RegExp(`^rgba\\(${yn},${yn},${yn},${Rn}\\)$`),Fo=new RegExp(`^rgba\\(${et},${et},${et},${Rn}\\)$`),Go=new RegExp(`^hsl\\(${Rn},${et},${et}\\)$`),Uo=new RegExp(`^hsla\\(${Rn},${et},${et},${Rn}\\)$`),Wr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Li(Fn,Cn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xr,formatHex:Xr,formatHex8:Bo,formatHsl:qo,formatRgb:Yr,toString:Yr});function Xr(){return this.rgb().formatHex()}function Bo(){return this.rgb().formatHex8()}function qo(){return yo(this).formatHsl()}function Yr(){return this.rgb().formatRgb()}function Cn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ho.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Kr(e):n===3?new Ie(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fa(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fa(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ro.exec(t))?new Ie(e[1],e[2],e[3],1):(e=Co.exec(t))?new Ie(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=zo.exec(t))?fa(e[1],e[2],e[3],e[4]):(e=Fo.exec(t))?fa(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Go.exec(t))?Jr(e[1],e[2]/100,e[3]/100,1):(e=Uo.exec(t))?Jr(e[1],e[2]/100,e[3]/100,e[4]):Wr.hasOwnProperty(t)?Kr(Wr[t]):t==="transparent"?new Ie(NaN,NaN,NaN,0):null}function Kr(t){return new Ie(t>>16&255,t>>8&255,t&255,1)}function fa(t,e,n,a){return a<=0&&(t=e=n=NaN),new Ie(t,e,n,a)}function Wo(t){return t instanceof Fn||(t=Cn(t)),t?(t=t.rgb(),new Ie(t.r,t.g,t.b,t.opacity)):new Ie}function _a(t,e,n,a){return arguments.length===1?Wo(t):new Ie(t,e,n,a??1)}function Ie(t,e,n,a){this.r=+t,this.g=+e,this.b=+n,this.opacity=+a}Li(Ie,_a,vo(Fn,{brighter(t){return t=t==null?da:Math.pow(da,t),new Ie(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Hn:Math.pow(Hn,t),new Ie(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ie(qt(this.r),qt(this.g),qt(this.b),pa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qr,formatHex:Qr,formatHex8:Xo,formatRgb:Zr,toString:Zr}));function Qr(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}`}function Xo(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}${Bt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zr(){const t=pa(this.opacity);return`${t===1?"rgb(":"rgba("}${qt(this.r)}, ${qt(this.g)}, ${qt(this.b)}${t===1?")":`, ${t})`}`}function pa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bt(t){return t=qt(t),(t<16?"0":"")+t.toString(16)}function Jr(t,e,n,a){return a<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qe(t,e,n,a)}function yo(t){if(t instanceof qe)return new qe(t.h,t.s,t.l,t.opacity);if(t instanceof Fn||(t=Cn(t)),!t)return new qe;if(t instanceof qe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,a=t.b/255,l=Math.min(e,n,a),r=Math.max(e,n,a),i=NaN,s=r-l,c=(r+l)/2;return s?(e===r?i=(n-a)/s+(n<a)*6:n===r?i=(a-e)/s+2:i=(e-n)/s+4,s/=c<.5?r+l:2-r-l,i*=60):s=c>0&&c<1?0:i,new qe(i,s,c,t.opacity)}function Yo(t,e,n,a){return arguments.length===1?yo(t):new qe(t,e,n,a??1)}function qe(t,e,n,a){this.h=+t,this.s=+e,this.l=+n,this.opacity=+a}Li(qe,Yo,vo(Fn,{brighter(t){return t=t==null?da:Math.pow(da,t),new qe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Hn:Math.pow(Hn,t),new qe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*e,l=2*n-a;return new Ie(wi(t>=240?t-240:t+120,l,a),wi(t,l,a),wi(t<120?t+240:t-120,l,a),this.opacity)},clamp(){return new qe(es(this.h),ca(this.s),ca(this.l),pa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=pa(this.opacity);return`${t===1?"hsl(":"hsla("}${es(this.h)}, ${ca(this.s)*100}%, ${ca(this.l)*100}%${t===1?")":`, ${t})`}`}}));function es(t){return t=(t||0)%360,t<0?t+360:t}function ca(t){return Math.max(0,Math.min(1,t||0))}function wi(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function Ko(t,e,n,a,l){var r=t*t,i=r*t;return((1-3*t+3*r-i)*e+(4-6*r+3*i)*n+(1+3*t+3*r-3*i)*a+i*l)/6}function Qo(t){var e=t.length-1;return function(n){var a=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),l=t[a],r=t[a+1],i=a>0?t[a-1]:2*l-r,s=a<e-1?t[a+2]:2*r-l;return Ko((n-a/e)*e,i,l,r,s)}}const Di=t=>()=>t;function Zo(t,e){return function(n){return t+n*e}}function Jo(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(a){return Math.pow(t+a*e,n)}}function ef(t){return(t=+t)==1?ko:function(e,n){return n-e?Jo(e,n,t):Di(isNaN(e)?n:e)}}function ko(t,e){var n=e-t;return n?Zo(t,n):Di(isNaN(t)?e:t)}const ts=function t(e){var n=ef(e);function a(l,r){var i=n((l=_a(l)).r,(r=_a(r)).r),s=n(l.g,r.g),c=n(l.b,r.b),u=ko(l.opacity,r.opacity);return function(p){return l.r=i(p),l.g=s(p),l.b=c(p),l.opacity=u(p),l+""}}return a.gamma=t,a}(1);function tf(t){return function(e){var n=e.length,a=new Array(n),l=new Array(n),r=new Array(n),i,s;for(i=0;i<n;++i)s=_a(e[i]),a[i]=s.r||0,l[i]=s.g||0,r[i]=s.b||0;return a=t(a),l=t(l),r=t(r),s.opacity=1,function(c){return s.r=a(c),s.g=l(c),s.b=r(c),s+""}}}var nf=tf(Qo);function af(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,a=e.slice(),l;return function(r){for(l=0;l<n;++l)a[l]=t[l]*(1-r)+e[l]*r;return a}}function lf(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rf(t,e){var n=e?e.length:0,a=t?Math.min(n,t.length):0,l=new Array(a),r=new Array(n),i;for(i=0;i<a;++i)l[i]=Ti(t[i],e[i]);for(;i<n;++i)r[i]=e[i];return function(s){for(i=0;i<a;++i)r[i]=l[i](s);return r}}function sf(t,e){var n=new Date;return t=+t,e=+e,function(a){return n.setTime(t*(1-a)+e*a),n}}function ga(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function of(t,e){var n={},a={},l;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(l in e)l in t?n[l]=Ti(t[l],e[l]):a[l]=e[l];return function(r){for(l in n)a[l]=n[l](r);return a}}var Ni=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ei=new RegExp(Ni.source,"g");function ff(t){return function(){return t}}function cf(t){return function(e){return t(e)+""}}function uf(t,e){var n=Ni.lastIndex=Ei.lastIndex=0,a,l,r,i=-1,s=[],c=[];for(t=t+"",e=e+"";(a=Ni.exec(t))&&(l=Ei.exec(e));)(r=l.index)>n&&(r=e.slice(n,r),s[i]?s[i]+=r:s[++i]=r),(a=a[0])===(l=l[0])?s[i]?s[i]+=l:s[++i]=l:(s[++i]=null,c.push({i,x:ga(a,l)})),n=Ei.lastIndex;return n<e.length&&(r=e.slice(n),s[i]?s[i]+=r:s[++i]=r),s.length<2?c[0]?cf(c[0].x):ff(e):(e=c.length,function(u){for(var p=0,d;p<e;++p)s[(d=c[p]).i]=d.x(u);return s.join("")})}function Ti(t,e){var n=typeof e,a;return e==null||n==="boolean"?Di(e):(n==="number"?ga:n==="string"?(a=Cn(e))?(e=a,ts):uf:e instanceof Cn?ts:e instanceof Date?sf:lf(e)?af:Array.isArray(e)?rf:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?of:ga)(t,e)}function hf(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}const df=t=>nf(t[t.length-1]);var _f=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(zn);const pf=df(_f);function La(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}La(zn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));La(zn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var gf=La(zn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));La(zn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function wo(t){return t<0&&(t=0),t=-Math.log10(t)/10,t<0&&(t=0),t>1&&(t=1),t}function bn(t){return gf(wo(t))}function ns(t){return pf(wo(t))}function Eo(t,e=1){return Number.parseFloat(t).toExponential(e)}function as(t){return`(<em>p</em>=${Mi(t,1)})`}function Mi(t,e){let n=Eo(t,e);const a=/(\d\.\d)e([+-])(\d+)/,l=n.match(a);if(!l)return"";let r=Number.parseInt(l[3]);if(r==0)return Number.parseFloat(t).toFixed(e);let i=l[2];return i=="+"&&(i=""),`${l[1]}x10<sup>${i}${r}</sup>`}function It(t,e,n=1){let a=[];if(!n)return a;for(let l=t;;l+=n){if(n<0){if(l<=e)break}else if(l>=e)break;a.push(l)}return a}function ls(t,e,n){if(n<2)return[t,e];if(e<=t)return[e,t];let a=(e-t)/(n-1),l=[];for(let r=t,i=0;i<n;++i,r+=a)l.push(r);return l}function ma(t,e){const n=/rgb\((\d+),(\d+),(\d+)\)/,a=t.match(n);if(!a)throw new Error("Color specification does not match pattern.");let l=a[1],r=a[2],i=a[3];return`rgba(${l},${r},${i},${e})`}function ha(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mf(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function No(t){let e,n,a;t.length!==2?(e=ha,n=(s,c)=>ha(t(s),c),a=(s,c)=>t(s)-c):(e=t===ha||t===mf?t:bf,n=t,a=t);function l(s,c,u=0,p=s.length){if(u<p){if(e(c,c)!==0)return p;do{const d=u+p>>>1;n(s[d],c)<0?u=d+1:p=d}while(u<p)}return u}function r(s,c,u=0,p=s.length){if(u<p){if(e(c,c)!==0)return p;do{const d=u+p>>>1;n(s[d],c)<=0?u=d+1:p=d}while(u<p)}return u}function i(s,c,u=0,p=s.length){const d=l(s,c,u,p-1);return d>u&&a(s[d-1],c)>-a(s[d],c)?d-1:d}return{left:l,center:i,right:r}}function bf(){return 0}function vf(t){return t===null?NaN:+t}const yf=No(ha),kf=yf.right;No(vf).center;const wf=kf;function Ef(t,e){let n,a;if(e===void 0)for(const l of t)l!=null&&(n===void 0?l>=l&&(n=a=l):(n>l&&(n=l),a<l&&(a=l)));else{let l=-1;for(let r of t)(r=e(r,++l,t))!=null&&(n===void 0?r>=r&&(n=a=r):(n>r&&(n=r),a<r&&(a=r)))}return[n,a]}const Nf=Math.sqrt(50),Mf=Math.sqrt(10),Af=Math.sqrt(2);function ba(t,e,n){const a=(e-t)/Math.max(0,n),l=Math.floor(Math.log10(a)),r=a/Math.pow(10,l),i=r>=Nf?10:r>=Mf?5:r>=Af?2:1;let s,c,u;return l<0?(u=Math.pow(10,-l)/i,s=Math.round(t*u),c=Math.round(e*u),s/u<t&&++s,c/u>e&&--c,u=-u):(u=Math.pow(10,l)*i,s=Math.round(t/u),c=Math.round(e/u),s*u<t&&++s,c*u>e&&--c),c<s&&.5<=n&&n<2?ba(t,e,n*2):[s,c,u]}function Pf(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const a=e<t,[l,r,i]=a?ba(e,t,n):ba(t,e,n);if(!(r>=l))return[];const s=r-l+1,c=new Array(s);if(a)if(i<0)for(let u=0;u<s;++u)c[u]=(r-u)/-i;else for(let u=0;u<s;++u)c[u]=(r-u)*i;else if(i<0)for(let u=0;u<s;++u)c[u]=(l+u)/-i;else for(let u=0;u<s;++u)c[u]=(l+u)*i;return c}function Ai(t,e,n){return e=+e,t=+t,n=+n,ba(t,e,n)[2]}function xf(t,e,n){e=+e,t=+t,n=+n;const a=e<t,l=a?Ai(e,t,n):Ai(t,e,n);return(a?-1:1)*(l<0?1/-l:l)}function Sf(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function If(t){return function(){return t}}function Lf(t){return+t}var is=[0,1];function vn(t){return t}function Pi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:If(isNaN(e)?NaN:.5)}function Df(t,e){var n;return t>e&&(n=t,t=e,e=n),function(a){return Math.max(t,Math.min(e,a))}}function Tf(t,e,n){var a=t[0],l=t[1],r=e[0],i=e[1];return l<a?(a=Pi(l,a),r=n(i,r)):(a=Pi(a,l),r=n(r,i)),function(s){return r(a(s))}}function Vf(t,e,n){var a=Math.min(t.length,e.length)-1,l=new Array(a),r=new Array(a),i=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<a;)l[i]=Pi(t[i],t[i+1]),r[i]=n(e[i],e[i+1]);return function(s){var c=wf(t,s,1,a)-1;return r[c](l[c](s))}}function $f(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Of(){var t=is,e=is,n=Ti,a,l,r,i=vn,s,c,u;function p(){var b=Math.min(t.length,e.length);return i!==vn&&(i=Df(t[0],t[b-1])),s=b>2?Vf:Tf,c=u=null,d}function d(b){return b==null||isNaN(b=+b)?r:(c||(c=s(t.map(a),e,n)))(a(i(b)))}return d.invert=function(b){return i(l((u||(u=s(e,t.map(a),ga)))(b)))},d.domain=function(b){return arguments.length?(t=Array.from(b,Lf),p()):t.slice()},d.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},d.rangeRound=function(b){return e=Array.from(b),n=hf,p()},d.clamp=function(b){return arguments.length?(i=b?!0:vn,p()):i!==vn},d.interpolate=function(b){return arguments.length?(n=b,p()):n},d.unknown=function(b){return arguments.length?(r=b,d):r},function(b,_){return a=b,l=_,p()}}function jf(){return Of()(vn,vn)}function Hf(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function va(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,a=t.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+t.slice(n+1)]}function wn(t){return t=va(Math.abs(t)),t?t[1]:NaN}function Rf(t,e){return function(n,a){for(var l=n.length,r=[],i=0,s=t[0],c=0;l>0&&s>0&&(c+s+1>a&&(s=Math.max(1,a-c)),r.push(n.substring(l-=s,l+s)),!((c+=s+1)>a));)s=t[i=(i+1)%t.length];return r.reverse().join(e)}}function Cf(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var zf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ya(t){if(!(e=zf.exec(t)))throw new Error("invalid format: "+t);var e;return new Vi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ya.prototype=Vi.prototype;function Vi(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Vi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ff(t){e:for(var e=t.length,n=1,a=-1,l;n<e;++n)switch(t[n]){case".":a=l=n;break;case"0":a===0&&(a=n),l=n;break;default:if(!+t[n])break e;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(l+1):t}var Mo;function Gf(t,e){var n=va(t,e);if(!n)return t+"";var a=n[0],l=n[1],r=l-(Mo=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,i=a.length;return r===i?a:r>i?a+new Array(r-i+1).join("0"):r>0?a.slice(0,r)+"."+a.slice(r):"0."+new Array(1-r).join("0")+va(t,Math.max(0,e+r-1))[0]}function rs(t,e){var n=va(t,e);if(!n)return t+"";var a=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+a:a.length>l+1?a.slice(0,l+1)+"."+a.slice(l+1):a+new Array(l-a.length+2).join("0")}const ss={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Hf,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rs(t*100,e),r:rs,s:Gf,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function os(t){return t}var fs=Array.prototype.map,cs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Uf(t){var e=t.grouping===void 0||t.thousands===void 0?os:Rf(fs.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",l=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?os:Cf(fs.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(d){d=ya(d);var b=d.fill,_=d.align,m=d.sign,N=d.symbol,V=d.zero,R=d.width,j=d.comma,A=d.precision,L=d.trim,x=d.type;x==="n"?(j=!0,x="g"):ss[x]||(A===void 0&&(A=12),L=!0,x="g"),(V||b==="0"&&_==="=")&&(V=!0,b="0",_="=");var P=N==="$"?n:N==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",C=N==="$"?a:/[%p]/.test(x)?i:"",U=ss[x],z=/[defgprs%]/.test(x);A=A===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function G(k){var M=P,S=C,q,le,ee;if(x==="c")S=U(k)+S,k="";else{k=+k;var ie=k<0||1/k<0;if(k=isNaN(k)?c:U(Math.abs(k),A),L&&(k=Ff(k)),ie&&+k==0&&m!=="+"&&(ie=!1),M=(ie?m==="("?m:s:m==="-"||m==="("?"":m)+M,S=(x==="s"?cs[8+Mo/3]:"")+S+(ie&&m==="("?")":""),z){for(q=-1,le=k.length;++q<le;)if(ee=k.charCodeAt(q),48>ee||ee>57){S=(ee===46?l+k.slice(q+1):k.slice(q))+S,k=k.slice(0,q);break}}}j&&!V&&(k=e(k,1/0));var Z=M.length+k.length+S.length,H=Z<R?new Array(R-Z+1).join(b):"";switch(j&&V&&(k=e(H+k,H.length?R-S.length:1/0),H=""),_){case"<":k=M+k+S+H;break;case"=":k=M+H+k+S;break;case"^":k=H.slice(0,Z=H.length>>1)+M+k+S+H.slice(Z);break;default:k=H+M+k+S;break}return r(k)}return G.toString=function(){return d+""},G}function p(d,b){var _=u((d=ya(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(wn(b)/3)))*3,N=Math.pow(10,-m),V=cs[8+m/3];return function(R){return _(N*R)+V}}return{format:u,formatPrefix:p}}var ua,Ao,Po;Bf({thousands:",",grouping:[3],currency:["$",""]});function Bf(t){return ua=Uf(t),Ao=ua.format,Po=ua.formatPrefix,ua}function qf(t){return Math.max(0,-wn(Math.abs(t)))}function Wf(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wn(e)/3)))*3-wn(Math.abs(t)))}function Xf(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wn(e)-wn(t))+1}function Yf(t,e,n,a){var l=xf(t,e,n),r;switch(a=ya(a??",f"),a.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return a.precision==null&&!isNaN(r=Wf(l,i))&&(a.precision=r),Po(a,i)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(r=Xf(l,Math.max(Math.abs(t),Math.abs(e))))&&(a.precision=r-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(r=qf(l))&&(a.precision=r-(a.type==="%")*2);break}}return Ao(a)}function Kf(t){var e=t.domain;return t.ticks=function(n){var a=e();return Pf(a[0],a[a.length-1],n??10)},t.tickFormat=function(n,a){var l=e();return Yf(l[0],l[l.length-1],n??10,a)},t.nice=function(n){n==null&&(n=10);var a=e(),l=0,r=a.length-1,i=a[l],s=a[r],c,u,p=10;for(s<i&&(u=i,i=s,s=u,u=l,l=r,r=u);p-- >0;){if(u=Ai(i,s,n),u===c)return a[l]=i,a[r]=s,e(a);if(u>0)i=Math.floor(i/u)*u,s=Math.ceil(s/u)*u;else if(u<0)i=Math.ceil(i*u)/u,s=Math.floor(s*u)/u;else break;c=u}return t},t}function $n(){var t=jf();return t.copy=function(){return $f(t,$n())},Sf.apply(t,arguments),Kf(t)}function Je(t){return function(){return t}}const xi=Math.PI,Si=2*xi,Ut=1e-6,Qf=Si-Ut;function xo(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Zf(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xo;const n=10**e;return function(a){this._+=a[0];for(let l=1,r=a.length;l<r;++l)this._+=Math.round(arguments[l]*n)/n+a[l]}}class Jf{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xo:Zf(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,a,l){this._append`Q${+e},${+n},${this._x1=+a},${this._y1=+l}`}bezierCurveTo(e,n,a,l,r,i){this._append`C${+e},${+n},${+a},${+l},${this._x1=+r},${this._y1=+i}`}arcTo(e,n,a,l,r){if(e=+e,n=+n,a=+a,l=+l,r=+r,r<0)throw new Error(`negative radius: ${r}`);let i=this._x1,s=this._y1,c=a-e,u=l-n,p=i-e,d=s-n,b=p*p+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Ut)if(!(Math.abs(d*c-u*p)>Ut)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let _=a-i,m=l-s,N=c*c+u*u,V=_*_+m*m,R=Math.sqrt(N),j=Math.sqrt(b),A=r*Math.tan((xi-Math.acos((N+b-V)/(2*R*j)))/2),L=A/j,x=A/R;Math.abs(L-1)>Ut&&this._append`L${e+L*p},${n+L*d}`,this._append`A${r},${r},0,0,${+(d*_>p*m)},${this._x1=e+x*c},${this._y1=n+x*u}`}}arc(e,n,a,l,r,i){if(e=+e,n=+n,a=+a,i=!!i,a<0)throw new Error(`negative radius: ${a}`);let s=a*Math.cos(l),c=a*Math.sin(l),u=e+s,p=n+c,d=1^i,b=i?l-r:r-l;this._x1===null?this._append`M${u},${p}`:(Math.abs(this._x1-u)>Ut||Math.abs(this._y1-p)>Ut)&&this._append`L${u},${p}`,a&&(b<0&&(b=b%Si+Si),b>Qf?this._append`A${a},${a},0,1,${d},${e-s},${n-c}A${a},${a},0,1,${d},${this._x1=u},${this._y1=p}`:b>Ut&&this._append`A${a},${a},0,${+(b>=xi)},${d},${this._x1=e+a*Math.cos(r)},${this._y1=n+a*Math.sin(r)}`)}rect(e,n,a,l){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${a=+a}v${+l}h${-a}Z`}toString(){return this._}}function ec(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);e=a}return t},()=>new Jf(e)}function So(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Io(t){this._context=t}Io.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function tc(t){return new Io(t)}function nc(t){return t[0]}function ac(t){return t[1]}function us(t,e){var n=Je(!0),a=null,l=tc,r=null,i=ec(s);t=typeof t=="function"?t:t===void 0?nc:Je(t),e=typeof e=="function"?e:e===void 0?ac:Je(e);function s(c){var u,p=(c=So(c)).length,d,b=!1,_;for(a==null&&(r=l(_=i())),u=0;u<=p;++u)!(u<p&&n(d=c[u],u,c))===b&&((b=!b)?r.lineStart():r.lineEnd()),b&&r.point(+t(d,u,c),+e(d,u,c));if(_)return r=null,_+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:Je(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:Je(+c),s):e},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Je(!!c),s):n},s.curve=function(c){return arguments.length?(l=c,a!=null&&(r=l(a)),s):l},s.context=function(c){return arguments.length?(c==null?a=r=null:r=l(a=c),s):a},s}function hs(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Lo(t){this._context=t}Lo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hs(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hs(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ds(t){return new Lo(t)}function _s(t,e){if((i=t.length)>1)for(var n=1,a,l,r=t[e[0]],i,s=r.length;n<i;++n)for(l=r,r=t[e[n]],a=0;a<s;++a)r[a][1]+=r[a][0]=isNaN(l[a][1])?l[a][0]:l[a][1]}function ps(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function lc(t,e){return t[e]}function ic(t){const e=[];return e.key=t,e}function rc(){var t=Je([]),e=ps,n=_s,a=lc;function l(r){var i=Array.from(t.apply(this,arguments),ic),s,c=i.length,u=-1,p;for(const d of r)for(s=0,++u;s<c;++s)(i[s][u]=[0,+a(d,i[s].key,u,r)]).data=d;for(s=0,p=So(e(i));s<c;++s)i[p[s]].index=s;return n(i,p),i}return l.keys=function(r){return arguments.length?(t=typeof r=="function"?r:Je(Array.from(r)),l):t},l.value=function(r){return arguments.length?(a=typeof r=="function"?r:Je(+r),l):a},l.order=function(r){return arguments.length?(e=r==null?ps:typeof r=="function"?r:Je(Array.from(r)),l):e},l.offset=function(r){return arguments.length?(n=r??_s,l):n},l}function gs(t,e,n){const a=t.slice();return a[33]=e[n],a}function ms(t,e,n){const a=t.slice();return a[36]=e[n],a}function bs(t,e,n){const a=t.slice();return a[39]=e[n],a}function vs(t,e,n){const a=t.slice();return a[42]=e[n],a}function ys(t){let e,n,a,l,r,i,s,c,u,p,d,b,_,m,N,V,R,j,A,L,x=(t[5].length==0||t[11]&&!t[11].shouldPlot)&&ks(t),P=t[8]&&ws(t),C=[0,3,6,9],U=[];for(let k=0;k<4;k+=1)U[k]=Ms(ms(t,C,k));let z=t[9],G=[];for(let k=0;k<z.length;k+=1)G[k]=Ps(gs(t,z,k));return{c(){x&&x.c(),e=W("g"),n=W("line"),r=W("g"),i=W("text"),s=w(`Fraction of patients
                    `),P&&P.c(),d=W("g"),b=W("line");for(let k=0;k<4;k+=1)U[k].c();V=W("text"),R=w(`Viral load (copies of mRNA/mL)
                `),L=W("g");for(let k=0;k<G.length;k+=1)G[k].c();this.h()},l(k){x&&x.l(k),e=X(k,"g",{class:!0,transform:!0});var M=g(e);n=X(M,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0}),g(n).forEach(h),r=X(M,"g",{class:!0});var S=g(r);i=X(S,"text",{class:!0,"text-anchor":!0,x:!0,y:!0,transform:!0});var q=g(i);s=E(q,`Fraction of patients
                    `),q.forEach(h),S.forEach(h),P&&P.l(M),d=X(M,"g",{class:!0,transform:!0});var le=g(d);b=X(le,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0}),g(b).forEach(h);for(let Z=0;Z<4;Z+=1)U[Z].l(le);le.forEach(h),V=X(M,"text",{class:!0,"text-anchor":!0,x:!0,y:!0});var ee=g(V);R=E(ee,`Viral load (copies of mRNA/mL)
                `),ee.forEach(h),M.forEach(h),L=X(k,"g",{class:!0,transform:!0});var ie=g(L);for(let Z=0;Z<G.length;Z+=1)G[Z].l(ie);ie.forEach(h),this.h()},h(){o(n,"class","yaxis"),o(n,"x1",a=`${t[6](0)}px`),o(n,"x2",l=`${t[6](0)}px`),o(n,"y1","0"),o(n,"y2",t[4]),o(n,"stroke","black"),o(i,"class","ylabel"),o(i,"text-anchor","middle"),o(i,"x",c=`${t[6](-.25)}`),o(i,"y",u=`${t[4]/2}`),o(i,"transform",p=`rotate(-90 ${t[6](-.25)} ${t[4]/2})`),o(r,"class","ylabeldiv"),o(b,"x1",_=t[6](0)),o(b,"x2",m=t[6](11)),o(b,"y1","0"),o(b,"y2","0"),o(b,"stroke","black"),o(d,"class","x-axis"),o(d,"transform",N=`translate(0, ${t[4]})`),o(V,"class","xlabel"),o(V,"text-anchor","middle"),o(V,"x",j=t[7]/2),o(V,"y",A=t[4]+t[13].top+44),o(e,"class","histgroup"),o(e,"transform",`translate(${t[13].left}, ${t[13].top})`),o(L,"class","regiongroup"),o(L,"transform","translate("+t[13].left+", "+t[13].top+")")},m(k,M){x&&x.m(k,M),O(k,e,M),f(e,n),f(e,r),f(r,i),f(i,s),P&&P.m(e,null),f(e,d),f(d,b);for(let S=0;S<4;S+=1)U[S].m(d,null);f(e,V),f(V,R),O(k,L,M);for(let S=0;S<G.length;S+=1)G[S].m(L,null)},p(k,M){if(k[5].length==0||k[11]&&!k[11].shouldPlot?x?x.p(k,M):(x=ks(k),x.c(),x.m(e.parentNode,e)):x&&(x.d(1),x=null),M[0]&64&&a!==(a=`${k[6](0)}px`)&&o(n,"x1",a),M[0]&64&&l!==(l=`${k[6](0)}px`)&&o(n,"x2",l),M[0]&16&&o(n,"y2",k[4]),M[0]&64&&c!==(c=`${k[6](-.25)}`)&&o(i,"x",c),M[0]&16&&u!==(u=`${k[4]/2}`)&&o(i,"y",u),M[0]&80&&p!==(p=`rotate(-90 ${k[6](-.25)} ${k[4]/2})`)&&o(i,"transform",p),k[8]?P?P.p(k,M):(P=ws(k),P.c(),P.m(e,d)):P&&(P.d(1),P=null),M[0]&64&&_!==(_=k[6](0))&&o(b,"x1",_),M[0]&64&&m!==(m=k[6](11))&&o(b,"x2",m),M[0]&64){C=[0,3,6,9];let S;for(S=0;S<4;S+=1){const q=ms(k,C,S);U[S]?U[S].p(q,M):(U[S]=Ms(q),U[S].c(),U[S].m(d,null))}for(;S<4;S+=1)U[S].d(1)}if(M[0]&16&&N!==(N=`translate(0, ${k[4]})`)&&o(d,"transform",N),M[0]&128&&j!==(j=k[7]/2)&&o(V,"x",j),M[0]&16&&A!==(A=k[4]+k[13].top+44)&&o(V,"y",A),M[0]&592){z=k[9];let S;for(S=0;S<z.length;S+=1){const q=gs(k,z,S);G[S]?G[S].p(q,M):(G[S]=Ps(q),G[S].c(),G[S].m(L,null))}for(;S<G.length;S+=1)G[S].d(1);G.length=z.length}},d(k){x&&x.d(k),k&&h(e),P&&P.d(),We(U,k),k&&h(L),We(G,k)}}}function ks(t){let e,n,a,l;return{c(){e=W("text"),n=w(`Insufficient data to plot
                `),this.h()},l(r){e=X(r,"text",{class:!0,"text-anchor":!0,x:!0,y:!0});var i=g(e);n=E(i,`Insufficient data to plot
                `),i.forEach(h),this.h()},h(){o(e,"class","nodata"),o(e,"text-anchor","middle"),o(e,"x",a=`${t[6](5)}px`),o(e,"y",l=`${t[4]/2+t[13].top}`)},m(r,i){O(r,e,i),f(e,n)},p(r,i){i[0]&64&&a!==(a=`${r[6](5)}px`)&&o(e,"x",a),i[0]&16&&l!==(l=`${r[4]/2+r[13].top}`)&&o(e,"y",l)},d(r){r&&h(e)}}}function ws(t){let e,n=t[5],a=[];for(let l=0;l<n.length;l+=1)a[l]=Ns(bs(t,n,l));return{c(){for(let l=0;l<a.length;l+=1)a[l].c();e=ce()},l(l){for(let r=0;r<a.length;r+=1)a[r].l(l);e=ce()},m(l,r){for(let i=0;i<a.length;i+=1)a[i].m(l,r);O(l,e,r)},p(l,r){if(r[0]&21859){n=l[5];let i;for(i=0;i<n.length;i+=1){const s=bs(l,n,i);a[i]?a[i].p(s,r):(a[i]=Ns(s),a[i].c(),a[i].m(e.parentNode,e))}for(;i<a.length;i+=1)a[i].d(1);a.length=n.length}},d(l){We(a,l),l&&h(e)}}}function Es(t){let e,n,a,l,r;function i(...s){return t[24](t[39],...s)}return{c(){e=W("g"),n=W("path"),this.h()},l(s){e=X(s,"g",{class:!0,style:!0});var c=g(e);n=X(c,"path",{d:!0,style:!0}),g(n).forEach(h),c.forEach(h),this.h()},h(){o(n,"d",a=us().curve(ds).x(t[23]).y(i)(t[42])),o(n,"style",l=`stroke: ${t[14](t[39].colors[t[42].key][0],t[12],t[39].label,t[0],t[1],1)};`),o(e,"class","series svelte-mzidch"),o(e,"style",r=`fill: ${t[14](t[39].colors[t[42].key][1],t[12],t[39].label,t[0],t[1],.4)}`)},m(s,c){O(s,e,c),f(e,n)},p(s,c){t=s,c[0]&1376&&a!==(a=us().curve(ds).x(t[23]).y(i)(t[42]))&&o(n,"d",a),c[0]&4387&&l!==(l=`stroke: ${t[14](t[39].colors[t[42].key][0],t[12],t[39].label,t[0],t[1],1)};`)&&o(n,"style",l),c[0]&4387&&r!==(r=`fill: ${t[14](t[39].colors[t[42].key][1],t[12],t[39].label,t[0],t[1],.4)}`)&&o(e,"style",r)},d(s){s&&h(e)}}}function Ns(t){let e,n=t[8](t[39].data),a=[];for(let l=0;l<n.length;l+=1)a[l]=Es(vs(t,n,l));return{c(){for(let l=0;l<a.length;l+=1)a[l].c();e=ce()},l(l){for(let r=0;r<a.length;r+=1)a[r].l(l);e=ce()},m(l,r){for(let i=0;i<a.length;i+=1)a[i].m(l,r);O(l,e,r)},p(l,r){if(r[0]&21859){n=l[8](l[39].data);let i;for(i=0;i<n.length;i+=1){const s=vs(l,n,i);a[i]?a[i].p(s,r):(a[i]=Es(s),a[i].c(),a[i].m(e.parentNode,e))}for(;i<a.length;i+=1)a[i].d(1);a.length=n.length}},d(l){We(a,l),l&&h(e)}}}function Ms(t){let e,n,a,l,r,i,s,c,u;return{c(){e=W("g"),n=W("foreignObject"),a=v("div"),l=w("10"),r=v("sup"),i=w(t[36]),s=D(),c=W("line"),this.h()},l(p){e=X(p,"g",{class:!0,transform:!0});var d=g(e);n=X(d,"foreignObject",{width:!0,height:!0,x:!0,y:!0});var b=g(n);a=y(b,"DIV",{class:!0});var _=g(a);l=E(_,"10"),r=y(_,"SUP",{});var m=g(r);i=E(m,t[36]),m.forEach(h),s=T(_),_.forEach(h),b.forEach(h),c=X(d,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0}),g(c).forEach(h),d.forEach(h),this.h()},h(){o(a,"class","exponentlabel"),o(n,"width","2em"),o(n,"height","2em"),o(n,"x","-1em"),o(n,"y","0.5em"),o(c,"x1","0"),o(c,"x2","0"),o(c,"y1","0"),o(c,"y2","5"),o(c,"stroke","black"),o(e,"class","tick"),o(e,"transform",u=`translate(${t[6](t[36])},0)`)},m(p,d){O(p,e,d),f(e,n),f(n,a),f(a,l),f(a,r),f(r,i),f(a,s),f(e,c)},p(p,d){d[0]&64&&u!==(u=`translate(${p[6](p[36])},0)`)&&o(e,"transform",u)},d(p){p&&h(e)}}}function As(t){let e,n,a;return{c(){e=W("line"),this.h()},l(l){e=X(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,"stroke-dasharray":!0,stroke:!0}),g(e).forEach(h),this.h()},h(){o(e,"x1",n=t[6](t[33].min)),o(e,"y1","0"),o(e,"x2",a=t[6](t[33].min)),o(e,"y2",t[4]),o(e,"stroke-dasharray","10,10"),o(e,"stroke","black")},m(l,r){O(l,e,r)},p(l,r){r[0]&576&&n!==(n=l[6](l[33].min))&&o(e,"x1",n),r[0]&576&&a!==(a=l[6](l[33].min))&&o(e,"x2",a),r[0]&16&&o(e,"y2",l[4])},d(l){l&&h(e)}}}function Ps(t){let e,n,a=t[33].title+"",l,r,i,s=t[33].min>0&&As(t);return{c(){e=W("g"),s&&s.c(),n=W("text"),l=w(a),this.h()},l(c){e=X(c,"g",{class:!0});var u=g(e);s&&s.l(u),n=X(u,"text",{class:!0,y:!0,"text-anchor":!0,x:!0});var p=g(n);l=E(p,a),p.forEach(h),u.forEach(h),this.h()},h(){o(n,"class","i_label svelte-mzidch"),o(n,"y","10"),o(n,"text-anchor",r=t[33].text_anchor),o(n,"x",i=t[6](t[33].text_x)),o(e,"class","i_region")},m(c,u){O(c,e,u),s&&s.m(e,null),f(e,n),f(n,l)},p(c,u){c[33].min>0?s?s.p(c,u):(s=As(c),s.c(),s.m(e,n)):s&&(s.d(1),s=null),u[0]&512&&a!==(a=c[33].title+"")&&ue(l,a),u[0]&512&&r!==(r=c[33].text_anchor)&&o(n,"text-anchor",r),u[0]&576&&i!==(i=c[6](c[33].text_x))&&o(n,"x",i)},d(c){c&&h(e),s&&s.d()}}}function sc(t){let e,n,a,l=t[6]&&ys(t);return{c(){e=v("div"),n=W("svg"),l&&l.c(),this.h()},l(r){e=y(r,"DIV",{class:!0});var i=g(e);n=X(i,"svg",{class:!0});var s=g(n);l&&l.l(s),s.forEach(h),i.forEach(h),this.h()},h(){o(n,"class","svelte-mzidch"),o(e,"class","histogram"),Na(()=>t[25].call(e))},m(r,i){O(r,e,i),f(e,n),l&&l.m(n,null),a=Ii(e,t[25].bind(e))},p(r,i){r[6]?l?l.p(r,i):(l=ys(r),l.c(),l.m(n,null)):l&&(l.d(1),l=null)},i:kn,o:kn,d(r){r&&h(e),l&&l.d(),a()}}}function oc(t,e,n){let a,l,r,i,s,c,u,p,d,b,_,{info:m}=e,{catagories:N=["count"]}=e,{highlightOne:V=!1}=e,{highlightedGroupLabel:R=null}=e,{joy:j=!1}=e,{y_scale:A="scale_absolute"}=e,{infectivityThreshold:L=5}=e;const x={top:10,right:0,bottom:60,left:20};let P,C,U;function z(H,B){if(!B)return null;let J=[0,11.01];if(H&&H.length){const ne=H[0].data;ne&&ne.length&&(ne[0],J=ne.map(De=>De.viralLoadLogMax),J.push(ne.viralLoadLogMin-1))}let Y=Ef(J);return Y?$n().domain(Y).range([0,B]):null}function G(H,B){if(B.length<1)return 1;if(!H)return 0;const Y=B[0].data[0];return H(Y.viralLoadLogMax)-H(Y.viralLoadLogMin)}function k(H,B,J){let Y=1;return H&&B.length>1&&(Y=.1+1/B.length,Y<.2&&(Y=.2)),Y}function M(H,B,J,Y){let ne=0;return H&&B.length>1&&(ne=(1-p)*J/(B.length-1)),ne}function S(H){if(!H.data)return 0;let B=0;for(let J of H.data){let Y=0;for(let ne of N)Y+=J[ne];Y*=1.1,Y>B&&(B=Y)}return B}function q(H,B,J,Y,ne){let De={},Te=0;for(let F=0;F<H.length;++F){let Q=H[F],K=S(Q);if(K>Te&&(Te=K),B=="yScale"){let Ne=H.length-(F+1);De[Q.label]=$n().domain([0,K]).range([J-Ne*Y,J-Ne*Y-J*ne])}}if(B=="yNorm")for(let F=0;F<H.length;++F){let Q=H[F],K=H.length-(F+1);De[Q.label]=$n().domain([0,Te]).range([J-K*Y,J-K*Y-J*ne])}return De}function le(H,B,J,Y,ne,De){return B&&J!=Y?ma(H,.04):ne?H:ma(H,De)}const ee=H=>u(H.data.viralLoadLog),ie=(H,B)=>b[H.label](B[1]);function Z(){P=this.clientWidth,C=this.clientHeight,n(2,P),n(3,C)}return t.$$set=H=>{"info"in H&&n(15,m=H.info),"catagories"in H&&n(16,N=H.catagories),"highlightOne"in H&&n(17,V=H.highlightOne),"highlightedGroupLabel"in H&&n(0,R=H.highlightedGroupLabel),"joy"in H&&n(1,j=H.joy),"y_scale"in H&&n(18,A=H.y_scale),"infectivityThreshold"in H&&n(19,L=H.infectivityThreshold)},t.$$.update=()=>{t.$$.dirty[0]&4&&n(7,a=P-(x.left+x.right)),t.$$.dirty[0]&8&&n(4,l=C-(x.top+x.bottom)),t.$$.dirty[0]&65536&&N&&n(8,U=rc().keys(N)),t.$$.dirty[0]&131073&&n(12,r=V&&R!=null),t.$$.dirty[0]&32769&&n(11,i=m.find(H=>H.label==R)),t.$$.dirty[0]&262144&&n(22,s=A=="scale_shared"?"yNorm":"yScale"),t.$$.dirty[0]&32768&&n(5,c=m.filter(H=>H.shouldPlot&&H.data)),t.$$.dirty[0]&160&&n(6,u=z(c,a)),t.$$.dirty[0]&96&&G(u,c),t.$$.dirty[0]&50&&n(20,p=k(j,c)),t.$$.dirty[0]&1048626&&n(21,d=M(j,c,l)),t.$$.dirty[0]&7340080&&n(10,b=q(c,s,l,d,p)),t.$$.dirty[0]&524288&&n(9,_=[{title:"NON-CONTAGIOUS",color:"#dbdbdb",min:0,max:L,text_anchor:"end",text_x:L-.5},{title:"CONTAGIOUS",color:"white",min:L,max:12,text_anchor:"start",text_x:L+.5}])},[R,j,P,C,l,c,u,a,U,_,b,i,r,x,le,m,N,V,A,L,p,d,s,ee,ie,Z]}class Do extends ka{constructor(e){super(),wa(this,e,oc,sc,Ea,{info:15,catagories:16,highlightOne:17,highlightedGroupLabel:0,joy:1,y_scale:18,infectivityThreshold:19},null,[-1,-1])}}function xs(t,e,n){const a=t.slice();return a[20]=e[n],a}function Ss(t,e,n){const a=t.slice();return a[20]=e[n],a}function Is(t,e,n){const a=t.slice();return a[20]=e[n],a}function Ls(t,e,n){const a=t.slice();return a[27]=e[n],a}function Ds(t){let e,n,a,l,r=It(1,t[0].length),i=[];for(let d=0;d<r.length;d+=1)i[d]=Vs(Is(t,r,d));let s=It(1,t[0].length),c=[];for(let d=0;d<s.length;d+=1)c[d]=$s(Ss(t,s,d));let u=It(0,t[0].length-1),p=[];for(let d=0;d<u.length;d+=1)p[d]=Os(xs(t,u,d));return{c(){e=W("svg");for(let d=0;d<i.length;d+=1)i[d].c();n=ce();for(let d=0;d<c.length;d+=1)c[d].c();a=ce();for(let d=0;d<p.length;d+=1)p[d].c();this.h()},l(d){e=X(d,"svg",{id:!0,width:!0,"font-size":!0});var b=g(e);for(let _=0;_<i.length;_+=1)i[_].l(b);n=ce();for(let _=0;_<c.length;_+=1)c[_].l(b);a=ce();for(let _=0;_<p.length;_+=1)p[_].l(b);b.forEach(h),this.h()},h(){o(e,"id","pyramid"),o(e,"width","100%"),o(e,"font-size",l=`${t[5]*t[4]}px`)},m(d,b){O(d,e,b);for(let _=0;_<i.length;_+=1)i[_].m(e,null);f(e,n);for(let _=0;_<c.length;_+=1)c[_].m(e,null);f(e,a);for(let _=0;_<p.length;_+=1)p[_].m(e,null)},p(d,b){if(b&8345){r=It(1,d[0].length);let _;for(_=0;_<r.length;_+=1){const m=Is(d,r,_);i[_]?i[_].p(m,b):(i[_]=Vs(m),i[_].c(),i[_].m(e,n))}for(;_<i.length;_+=1)i[_].d(1);i.length=r.length}if(b&7699){s=It(1,d[0].length);let _;for(_=0;_<s.length;_+=1){const m=Ss(d,s,_);c[_]?c[_].p(m,b):(c[_]=$s(m),c[_].c(),c[_].m(e,a))}for(;_<c.length;_+=1)c[_].d(1);c.length=s.length}if(b&7699){u=It(0,d[0].length-1);let _;for(_=0;_<u.length;_+=1){const m=xs(d,u,_);p[_]?p[_].p(m,b):(p[_]=Os(m),p[_].c(),p[_].m(e,null))}for(;_<p.length;_+=1)p[_].d(1);p.length=u.length}b&48&&l!==(l=`${d[5]*d[4]}px`)&&o(e,"font-size",l)},d(d){d&&h(e),We(i,d),We(c,d),We(p,d)}}}function Ts(t){let e,n,a,l,r,i,s,c=t[13](t[0],t[20],t[27])+"",u,p,d,b,_;return{c(){e=W("rect"),s=W("text"),u=w(c),this.h()},l(m){e=X(m,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),g(e).forEach(h),s=X(m,"text",{x:!0,y:!0,fill:!0,"text-anchor":!0,"font-size":!0});var N=g(s);u=E(N,c),N.forEach(h),this.h()},h(){o(e,"x",n=t[7](t[27])),o(e,"y",a=t[3](t[20])),o(e,"width",l=t[4]*Le),o(e,"height",r=t[4]*Le),o(e,"fill",i=bn(Vn(t[0],t[20],t[27]))),o(s,"x",p=t[7](t[27]-.5)),o(s,"y",d=t[3](t[20]-.5)),o(s,"fill",b=ns(Vn(t[0],t[20],t[27]))),o(s,"text-anchor","middle"),o(s,"font-size",_=`${js*t[4]}px`)},m(m,N){O(m,e,N),O(m,s,N),f(s,u)},p(m,N){N&129&&n!==(n=m[7](m[27]))&&o(e,"x",n),N&9&&a!==(a=m[3](m[20]))&&o(e,"y",a),N&16&&l!==(l=m[4]*Le)&&o(e,"width",l),N&16&&r!==(r=m[4]*Le)&&o(e,"height",r),N&1&&i!==(i=bn(Vn(m[0],m[20],m[27])))&&o(e,"fill",i),N&1&&c!==(c=m[13](m[0],m[20],m[27])+"")&&ue(u,c),N&129&&p!==(p=m[7](m[27]-.5))&&o(s,"x",p),N&9&&d!==(d=m[3](m[20]-.5))&&o(s,"y",d),N&1&&b!==(b=ns(Vn(m[0],m[20],m[27])))&&o(s,"fill",b),N&16&&_!==(_=`${js*m[4]}px`)&&o(s,"font-size",_)},d(m){m&&h(e),m&&h(s)}}}function Vs(t){let e,n=It(0,t[20]),a=[];for(let l=0;l<n.length;l+=1)a[l]=Ts(Ls(t,n,l));return{c(){e=W("g");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=X(l,"g",{class:!0});var r=g(e);for(let i=0;i<a.length;i+=1)a[i].l(r);r.forEach(h),this.h()},h(){o(e,"class","pyramidrow")},m(l,r){O(l,e,r);for(let i=0;i<a.length;i+=1)a[i].m(e,null)},p(l,r){if(r&8345){n=It(0,l[20]);let i;for(i=0;i<n.length;i+=1){const s=Ls(l,n,i);a[i]?a[i].p(s,r):(a[i]=Ts(s),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=n.length}},d(l){l&&h(e),We(a,l)}}}function $s(t){let e,n=t[12](t[0],t[20],t[1],t[9])+"",a,l,r;return{c(){e=W("text"),a=w(n),this.h()},l(i){e=X(i,"text",{class:!0,x:!0,y:!0});var s=g(e);a=E(s,n),s.forEach(h),this.h()},h(){o(e,"class","row_labels"),o(e,"x",l=t[4]*(Ee+t[10]+Lt)),o(e,"y",r=t[4]*(Ee+t[11]+Lt+(t[0].length-(t[20]+.25))*Le))},m(i,s){O(i,e,s),f(e,a)},p(i,s){s&515&&n!==(n=i[12](i[0],i[20],i[1],i[9])+"")&&ue(a,n),s&16&&l!==(l=i[4]*(Ee+i[10]+Lt))&&o(e,"x",l),s&17&&r!==(r=i[4]*(Ee+i[11]+Lt+(i[0].length-(i[20]+.25))*Le))&&o(e,"y",r)},d(i){i&&h(e)}}}function Os(t){let e,n=t[12](t[0],t[20],t[1],t[9])+"",a,l,r,i;return{c(){e=W("text"),a=w(n),this.h()},l(s){e=X(s,"text",{class:!0,x:!0,y:!0,"text-anchor":!0,transform:!0});var c=g(e);a=E(c,n),c.forEach(h),this.h()},h(){o(e,"class","col_labels"),o(e,"x",l=t[4]*(t[10]-(t[20]+.25)*Le+Ee)),o(e,"y",r=t[4]*(Ee+t[11])),o(e,"text-anchor","start"),o(e,"transform",i=`rotate(-90 ${t[4]*(t[10]-(t[20]+.25)*Le+Ee)} ${t[4]*(Ee+t[11])})`)},m(s,c){O(s,e,c),f(e,a)},p(s,c){c&515&&n!==(n=s[12](s[0],s[20],s[1],s[9])+"")&&ue(a,n),c&17&&l!==(l=s[4]*(s[10]-(s[20]+.25)*Le+Ee))&&o(e,"x",l),c&16&&r!==(r=s[4]*(Ee+s[11]))&&o(e,"y",r),c&17&&i!==(i=`rotate(-90 ${s[4]*(s[10]-(s[20]+.25)*Le+Ee)} ${s[4]*(Ee+s[11])})`)&&o(e,"transform",i)},d(s){s&&h(e)}}}function fc(t){let e,n,a=t[4]&&Ds(t);return{c(){e=v("div"),a&&a.c(),this.h()},l(l){e=y(l,"DIV",{id:!0,class:!0,style:!0});var r=g(e);a&&a.l(r),r.forEach(h),this.h()},h(){o(e,"id","pyramid_container"),o(e,"class","pyramid"),o(e,"style",t[8]),Na(()=>t[14].call(e))},m(l,r){O(l,e,r),a&&a.m(e,null),n=Ii(e,t[14].bind(e))},p(l,[r]){l[4]?a?a.p(l,r):(a=Ds(l),a.c(),a.m(e,null)):a&&(a.d(1),a=null),r&256&&o(e,"style",l[8])},i:kn,o:kn,d(l){l&&h(e),a&&a.d(),n()}}}const js=6.8,cc=.476,Le=25,uc=8,Lt=10,Ee=0;function Vn(t,e,n){return t[e].comparisons[n]}function hc(t,e,n){let a,l,r,{info:i}=e,s=10;const c=Le*(uc-1),u=c-Lt;let p=(c-2*Lt)/(s*cc),d,b,_=C=>0,m=C=>0;function N(C){return U=>C*(Ee+c-(U+1)*Le)}function V(C,U){return z=>C*(u+Le*(U.length-1)+Lt+Ee-z*Le)}function R(C,U){let z=0;for(let G=0;G<C.length;++G){let k=C[G].label.toLowerCase();for(let M=0;;++M){if(k.length<=U||M>=A.length){M>z&&(z=M);break}let S=A[M];k=k.replaceAll(S[0].toLowerCase(),S[1].toLowerCase()),k=k.replaceAll("  "," ")}}return z}function j(C,U,z,G){let k=C[U].label.toLowerCase();for(let M=0;M<G;++M){let S=A[M];k=k.replaceAll(S[0].toLowerCase(),S[1].toLowerCase()),k=k.replaceAll("  "," ")}return k.length>z&&(k=k.substring(0,z-3)+"..."),k}const A=[["Early Variant","Early"],["omicron","omi"],["in inpatient settings","inpatient"],["in outpatient settings","outpatient"],["in the Emergency Department","in ED"],["at other institutions","other inst"],["patients",""],[" to ","-"],[",000","K"],["from areas with median household income",""],["from ZCTAs with Median Household Income",""],["having unknown vaccination status","vaccination unknown"],["vaccination","vax"],["vaccinated","vax"],[" or ","/"],["unknown/other","other"],[" unknown","?"],["with no","w/o"],["not having","w/o"],["having","w/"],["with","w/"],["not getting","w/"],["getting","w/o"],["current smokers","smokers"],["who never smoked","non-smoking"],["pulmonary","lung"],["peptic ulcer","ulcer"],["connective tissue disease","rheum"],[" and "," & "],["(<30 y.o.)"," "],["(60+ y.o.)"," "],["30 - 60 y.o."," middle "],["females","F."],["males","M."],["pregnant","preg"],["blood products","blood"],["survived","lived"],["$",""],["< 5","<5"],["asian & pacific islander","aapi"],["Asian/Pacific Islander","aapi"],["hispanic","hisp"],["Native American","NatAmer"],["white","wh"],["black","bl"],["Translanted organ and tissue status","transplant"],["acquired immunodeficiency syndrome","aids"],["ventilation assist","vent"],["neurological","neuro"],["Immunosuppressed","Immunosup."],["Immunocompetent","Immunocomp."],["Immuno","imm-"],["appearing "," "],["diabetes","diab"],["Sickle Cell & Thalassemia","sickle"],["Mental health conditions","mental"],["Substance abuse","drugs"],["peripheral","periph"],["vascular","vasc"],["DEXAMETHASONE","DEXA"],["zumab","z"],["desivir","d"],["era"," "],[" who "," "],["conditions","dx"],["cerebrovasc","cbv"],["disabilities","disabil"],["disorders"," "],["disease"," "],["healthy","hlthy"],["weight","w."],["smoking","smoke"],["smokers","smoke"],["smoker","smoke"],["former","form"],["preg f","preg"],["smoke","sm"],[".",""]];function L(C,U,z){let G=Vn(C,U,z);return x(G)}function x(C){return C>=.01?C.toFixed(2):Eo(C)}function P(){d=this.clientWidth,b=this.clientHeight,n(2,d),n(6,b)}return t.$$set=C=>{"info"in C&&n(0,i=C.info)},t.$$.update=()=>{t.$$.dirty&4&&n(4,a=d/(c+u+Lt+2*Ee)),t.$$.dirty&20&&d&&n(7,_=N(a)),t.$$.dirty&21&&d&&i&&n(3,m=V(a,i)),t.$$.dirty&3&&n(9,l=R(i,p)),t.$$.dirty&12&&n(8,r=`margin-bottom: ${m(-1)-d}px`)},[i,p,d,m,a,s,b,_,r,l,c,u,j,L,P]}class dc extends ka{constructor(e){super(),wa(this,e,hc,fc,Ea,{info:0})}}function Hs(t,e,n){const a=t.slice();return a[6]=e[n],a}function Rs(t,e,n){const a=t.slice();return a[6]=e[n],a}function Cs(t){let e,n,a=ls(-.25,12.25,t[0]),l=[];for(let s=0;s<a.length;s+=1)l[s]=zs(Rs(t,a,s));let r=[0,6,12],i=[];for(let s=0;s<3;s+=1)i[s]=Fs(Hs(t,r,s));return{c(){e=W("svg");for(let s=0;s<l.length;s+=1)l[s].c();n=ce();for(let s=0;s<3;s+=1)i[s].c();this.h()},l(s){e=X(s,"svg",{class:!0});var c=g(e);for(let u=0;u<l.length;u+=1)l[u].l(c);n=ce();for(let u=0;u<3;u+=1)i[u].l(c);c.forEach(h),this.h()},h(){o(e,"class","svelte-1gmywg6")},m(s,c){O(s,e,c);for(let u=0;u<l.length;u+=1)l[u].m(e,null);f(e,n);for(let u=0;u<3;u+=1)i[u].m(e,null)},p(s,c){if(c&29){a=ls(-.25,12.25,s[0]);let u;for(u=0;u<a.length;u+=1){const p=Rs(s,a,u);l[u]?l[u].p(p,c):(l[u]=zs(p),l[u].c(),l[u].m(e,n))}for(;u<l.length;u+=1)l[u].d(1);l.length=a.length}if(c&24){r=[0,6,12];let u;for(u=0;u<3;u+=1){const p=Hs(s,r,u);i[u]?i[u].p(p,c):(i[u]=Fs(p),i[u].c(),i[u].m(e,null))}for(;u<3;u+=1)i[u].d(1)}},d(s){s&&h(e),We(l,s),We(i,s)}}}function zs(t){let e,n,a,l;return{c(){e=W("rect"),this.h()},l(r){e=X(r,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,fill:!0}),g(e).forEach(h),this.h()},h(){o(e,"x",n=t[3](t[6])),o(e,"y",t[4]),o(e,"width","1"),o(e,"height",t[2]),o(e,"stroke",a=bn(Math.pow(10,-t[6]))),o(e,"fill",l=bn(Math.pow(10,-t[6])))},m(r,i){O(r,e,i)},p(r,i){i&9&&n!==(n=r[3](r[6]))&&o(e,"x",n),i&16&&o(e,"y",r[4]),i&4&&o(e,"height",r[2]),i&1&&a!==(a=bn(Math.pow(10,-r[6])))&&o(e,"stroke",a),i&1&&l!==(l=bn(Math.pow(10,-r[6])))&&o(e,"fill",l)},d(r){r&&h(e)}}}function _c(t){let e,n,a,l;return{c(){e=w("10"),n=v("sup"),a=w("-"),l=w(t[6])},l(r){e=E(r,"10"),n=y(r,"SUP",{});var i=g(n);a=E(i,"-"),l=E(i,t[6]),i.forEach(h)},m(r,i){O(r,e,i),O(r,n,i),f(n,a),f(n,l)},d(r){r&&h(e),r&&h(n)}}}function pc(t){let e;return{c(){e=w("1")},l(n){e=E(n,"1")},m(n,a){O(n,e,a)},d(n){n&&h(e)}}}function Fs(t){let e,n,a,l,r;function i(u,p){return u[6]==0?pc:_c}let c=i(t)(t);return{c(){e=W("g"),n=W("foreignObject"),a=v("div"),c.c(),l=D(),this.h()},l(u){e=X(u,"g",{class:!0,transform:!0});var p=g(e);n=X(p,"foreignObject",{width:!0,height:!0,x:!0,y:!0});var d=g(n);a=y(d,"DIV",{class:!0});var b=g(a);c.l(b),l=T(b),b.forEach(h),d.forEach(h),p.forEach(h),this.h()},h(){o(a,"class","exponentlabel svelte-1gmywg6"),o(n,"width","3em"),o(n,"height","2em"),o(n,"x","-0.5em"),o(n,"y","-1.5em"),o(e,"class","tick"),o(e,"transform",r=`translate(${t[3](t[6])},${t[4]})`)},m(u,p){O(u,e,p),f(e,n),f(n,a),c.m(a,null),f(a,l)},p(u,p){p&24&&r!==(r=`translate(${u[3](u[6])},${u[4]})`)&&o(e,"transform",r)},d(u){u&&h(e),c.d()}}}function gc(t){let e,n=!isNaN(t[4]),a,l=n&&Cs(t);return{c(){e=v("div"),l&&l.c(),this.h()},l(r){e=y(r,"DIV",{class:!0});var i=g(e);l&&l.l(i),i.forEach(h),this.h()},h(){o(e,"class","legend_box svelte-1gmywg6"),Na(()=>t[5].call(e))},m(r,i){O(r,e,i),l&&l.m(e,null),a=Ii(e,t[5].bind(e))},p(r,[i]){i&16&&(n=!isNaN(r[4])),n?l?l.p(r,i):(l=Cs(r),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:kn,o:kn,d(r){r&&h(e),l&&l.d(),a()}}}function mc(t,e,n){let a,l,r,i,s;function c(){i=this.clientWidth,s=this.clientHeight,n(0,i),n(1,s)}return t.$$.update=()=>{t.$$.dirty&2&&n(2,a=s/2),t.$$.dirty&6&&n(4,l=s-a),t.$$.dirty&1&&n(3,r=$n().domain([-1,13]).range([0,i]))},[i,s,a,r,l,c]}class bc extends ka{constructor(e){super(),wa(this,e,mc,gc,Ea,{})}}let To="https://entrop.ai";console.log(`Using API at ${To}`);function Gs(t,e,n){const a=t.slice();return a[39]=e[n],a}function Us(t,e,n){const a=t.slice();return a[42]=e[n],a}function Bs(t,e,n){const a=t.slice();return a[45]=e[n],a}function qs(t,e,n){const a=t.slice();return a[42]=e[n],a}function Ws(t,e,n){const a=t.slice();return a[50]=e[n],a[51]=e,a[52]=n,a}function Xs(t,e,n){const a=t.slice();return a[53]=e[n],a[54]=e,a[55]=n,a}function Ys(t){let e=[],n=new Map,a,l=t[4].items;const r=i=>i[50].id;for(let i=0;i<l.length;i+=1){let s=Ws(t,l,i),c=r(s);n.set(c,e[i]=Qs(c,s))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();a=ce()},l(i){for(let s=0;s<e.length;s+=1)e[s].l(i);a=ce()},m(i,s){for(let c=0;c<e.length;c+=1)e[c].m(i,s);O(i,a,s)},p(i,s){s[0]&16&&(l=i[4].items,e=On(e,s,r,1,i,l,n,a.parentNode,jn,Qs,a,Ws))},d(i){for(let s=0;s<e.length;s+=1)e[s].d(i);i&&h(a)}}}function Ks(t,e){let n,a,l,r,i=e[53].valueDisplayName+"",s,c,u,p,d,b;function _(){e[24].call(n,e[54],e[55])}return{key:t,first:null,c(){n=v("input"),l=D(),r=v("label"),s=w(i),u=D(),p=v("br"),this.h()},l(m){n=y(m,"INPUT",{type:!0,id:!0,class:!0}),l=T(m),r=y(m,"LABEL",{for:!0,class:!0});var N=g(r);s=E(N,i),N.forEach(h),u=T(m),p=y(m,"BR",{}),this.h()},h(){o(n,"type","checkbox"),o(n,"id",a=e[53].value),o(n,"class","valuename"),o(r,"for",c=e[53].value),o(r,"class","valuename"),this.first=n},m(m,N){O(m,n,N),n.checked=e[53].checked,O(m,l,N),O(m,r,N),f(r,s),O(m,u,N),O(m,p,N),d||(b=we(n,"change",_),d=!0)},p(m,N){e=m,N[0]&16&&a!==(a=e[53].value)&&o(n,"id",a),N[0]&16&&(n.checked=e[53].checked),N[0]&16&&i!==(i=e[53].valueDisplayName+"")&&ue(s,i),N[0]&16&&c!==(c=e[53].value)&&o(r,"for",c)},d(m){m&&h(n),m&&h(l),m&&h(r),m&&h(u),m&&h(p),d=!1,b()}}}function Qs(t,e){let n,a,l,r,i,s=e[50].displayName+"",c,u,p,d,b,_=[],m=new Map,N,V,R;function j(){e[23].call(a,e[51],e[52])}let A=e[50].splits;const L=x=>x[53].value;for(let x=0;x<A.length;x+=1){let P=Xs(e,A,x),C=L(P);m.set(C,_[x]=Ks(C,P))}return{key:t,first:null,c(){n=v("div"),a=v("input"),r=D(),i=v("label"),c=w(s),p=D(),d=v("br"),b=D();for(let x=0;x<_.length;x+=1)_[x].c();N=D(),this.h()},l(x){n=y(x,"DIV",{class:!0});var P=g(n);a=y(P,"INPUT",{type:!0,id:!0,class:!0}),r=T(P),i=y(P,"LABEL",{for:!0,class:!0});var C=g(i);c=E(C,s),C.forEach(h),p=T(P),d=y(P,"BR",{}),b=T(P);for(let U=0;U<_.length;U+=1)_[U].l(P);N=T(P),P.forEach(h),this.h()},h(){o(a,"type","checkbox"),o(a,"id",l=e[50].id),o(a,"class","variablename"),o(i,"for",u=e[50].id),o(i,"class","variablename"),o(n,"class","group_variable_div"),this.first=n},m(x,P){O(x,n,P),f(n,a),a.checked=e[50].checked,f(n,r),f(n,i),f(i,c),f(n,p),f(n,d),f(n,b);for(let C=0;C<_.length;C+=1)_[C].m(n,null);f(n,N),V||(R=we(a,"change",j),V=!0)},p(x,P){e=x,P[0]&16&&l!==(l=e[50].id)&&o(a,"id",l),P[0]&16&&(a.checked=e[50].checked),P[0]&16&&s!==(s=e[50].displayName+"")&&ue(c,s),P[0]&16&&u!==(u=e[50].id)&&o(i,"for",u),P[0]&16&&(A=e[50].splits,_=On(_,P,L,1,e,A,m,n,jn,Ks,N,Xs))},d(x){x&&h(n);for(let P=0;P<_.length;P+=1)_[P].d();V=!1,R()}}}function Zs(t){let e;return{c(){e=w("Real-world Viral Loads, 2020–Present")},l(n){e=E(n,"Real-world Viral Loads, 2020–Present")},m(n,a){O(n,e,a)},d(n){n&&h(e)}}}function Js(t){let e,n,a,l,r;function i(_,m){return m[0]&1&&(n=null),n==null&&(n=!!Vo(_[0].populations)),n?yc:vc}let s=i(t,[-1,-1]),c=s(t),u=!t[0].splitDescription&&eo(t);function p(_,m){return _[0].splitDescription?Nc:Ec}let d=p(t),b=d(t);return{c(){e=w(`Viral Loads
                    `),c.c(),a=D(),u&&u.c(),l=D(),b.c(),r=ce()},l(_){e=E(_,`Viral Loads
                    `),c.l(_),a=T(_),u&&u.l(_),l=T(_),b.l(_),r=ce()},m(_,m){O(_,e,m),c.m(_,m),O(_,a,m),u&&u.m(_,m),O(_,l,m),b.m(_,m),O(_,r,m)},p(_,m){s!==(s=i(_,m))&&(c.d(1),c=s(_),c&&(c.c(),c.m(a.parentNode,a))),_[0].splitDescription?u&&(u.d(1),u=null):u?u.p(_,m):(u=eo(_),u.c(),u.m(l.parentNode,l)),d===(d=p(_))&&b?b.p(_,m):(b.d(1),b=d(_),b&&(b.c(),b.m(r.parentNode,r)))},d(_){_&&h(e),c.d(_),_&&h(a),u&&u.d(_),_&&h(l),b.d(_),_&&h(r)}}}function vc(t){let e;return{c(){e=w("Are Similar")},l(n){e=E(n,"Are Similar")},m(n,a){O(n,e,a)},d(n){n&&h(e)}}}function yc(t){let e;return{c(){e=w("Vary")},l(n){e=E(n,"Vary")},m(n,a){O(n,e,a)},d(n){n&&h(e)}}}function eo(t){let e;function n(r,i){if(r[0].populations.length==2)return wc;if(r[0].populations.length>2)return kc}let a=n(t),l=a&&a(t);return{c(){e=v("span"),l&&l.c(),this.h()},l(r){e=y(r,"SPAN",{class:!0});var i=g(e);l&&l.l(i),i.forEach(h),this.h()},h(){o(e,"class","acrossbetween")},m(r,i){O(r,e,i),l&&l.m(e,null)},p(r,i){a!==(a=n(r))&&(l&&l.d(1),l=a&&a(r),l&&(l.c(),l.m(e,null)))},d(r){r&&h(e),l&&l.d()}}}function kc(t){let e;return{c(){e=w("Across")},l(n){e=E(n,"Across")},m(n,a){O(n,e,a)},d(n){n&&h(e)}}}function wc(t){let e;return{c(){e=w("Between")},l(n){e=E(n,"Between")},m(n,a){O(n,e,a)},d(n){n&&h(e)}}}function Ec(t){let e,n=t[0].populations.length+"",a,l;return{c(){e=w("These "),a=w(n),l=w(" Groups")},l(r){e=E(r,"These "),a=E(r,n),l=E(r," Groups")},m(r,i){O(r,e,i),O(r,a,i),O(r,l,i)},p(r,i){i[0]&1&&n!==(n=r[0].populations.length+"")&&ue(a,n)},d(r){r&&h(e),r&&h(a),r&&h(l)}}}function Nc(t){let e=t[0].splitDescription+"",n;return{c(){n=w(e)},l(a){n=E(a,e)},m(a,l){O(a,n,l)},p(a,l){l[0]&1&&e!==(e=a[0].splitDescription+"")&&ue(n,e)},d(a){a&&h(n)}}}function to(t,e){let n,a,l,r,i,s,c=e[22].format(e[42].count)+"",u,p,d=e[42].label.trim()+"",b,_,m,N,V,R,j,A,L=Mi(e[42].mean,1)+"",x,P,C,U,z,G;return{key:t,first:null,c(){n=v("p"),a=v("span"),l=w("The mean viral load across"),r=D(),i=v("span"),s=w("∼"),u=w(c),p=D(),b=w(d),m=D(),N=v("span"),V=w("was"),R=D(),j=v("span"),A=new Sa(!1),x=w(`
                                    copies/mL.`),C=D(),this.h()},l(k){n=y(k,"P",{class:!0,app_group_name:!0});var M=g(n);a=y(M,"SPAN",{class:!0});var S=g(a);l=E(S,"The mean viral load across"),S.forEach(h),r=T(M),i=y(M,"SPAN",{class:!0,style:!0});var q=g(i);s=E(q,"∼"),u=E(q,c),p=T(q),b=E(q,d),q.forEach(h),m=T(M),N=y(M,"SPAN",{class:!0});var le=g(N);V=E(le,"was"),le.forEach(h),R=T(M),j=y(M,"SPAN",{class:!0,style:!0});var ee=g(j);A=Ia(ee,!1),x=E(ee,`
                                    copies/mL.`),ee.forEach(h),C=T(M),M.forEach(h),this.h()},h(){o(a,"class","comm_part1"),o(i,"class","comm_part2"),o(i,"style",_=`color: ${e[42].colors.negatives[0]}`),o(N,"class","comm_part3"),A.a=x,o(j,"class","comm_part4"),o(j,"style",P=`color:  ${e[42].colors.negatives[0]}`),o(n,"class","groupcomment"),o(n,"app_group_name",U=e[42].label),Se(n,"groupCommentSpace",e[16]),this.first=n},m(k,M){O(k,n,M),f(n,a),f(a,l),f(n,r),f(n,i),f(i,s),f(i,u),f(i,p),f(i,b),f(n,m),f(n,N),f(N,V),f(n,R),f(n,j),A.m(L,j),f(j,x),f(n,C),z||(G=[we(n,"mouseenter",e[20]),we(n,"mouseleave",e[21])],z=!0)},p(k,M){e=k,M[0]&1&&c!==(c=e[22].format(e[42].count)+"")&&ue(u,c),M[0]&1&&d!==(d=e[42].label.trim()+"")&&ue(b,d),M[0]&1&&_!==(_=`color: ${e[42].colors.negatives[0]}`)&&o(i,"style",_),M[0]&1&&L!==(L=Mi(e[42].mean,1)+"")&&A.p(L),M[0]&1&&P!==(P=`color:  ${e[42].colors.negatives[0]}`)&&o(j,"style",P),M[0]&1&&U!==(U=e[42].label)&&o(n,"app_group_name",U),M[0]&65536&&Se(n,"groupCommentSpace",e[16])},d(k){k&&h(n),z=!1,bo(G)}}}function no(t){let e,n,a,l,r,i,s,c=t[0].populations[0].label+"",u,p,d,b=t[0].populations[1].label+"",_,m,N,V,R,j,A,L=as(t[0].populations[1].comparisons[0])+"",x,P,C;function U(k,M){return M[0]&1&&(V=null),V==null&&(V=!!Vo(k[0].populations)),V?Ac:Mc}let z=U(t,[-1,-1]),G=z(t);return{c(){e=v("div"),n=v("span"),a=v("strong"),l=w("Statistics."),r=w(" Viral loads for"),i=D(),s=v("span"),u=w(c),p=w(`
                            and
                            `),d=v("span"),_=w(b),m=D(),N=v("span"),G.c(),R=D(),j=v("span"),A=new Sa(!1),x=D(),P=v("span"),C=w("."),this.h()},l(k){e=y(k,"DIV",{class:!0});var M=g(e);n=y(M,"SPAN",{class:!0});var S=g(n);a=y(S,"STRONG",{});var q=g(a);l=E(q,"Statistics."),q.forEach(h),r=E(S," Viral loads for"),S.forEach(h),i=T(M),s=y(M,"SPAN",{class:!0});var le=g(s);u=E(le,c),le.forEach(h),p=E(M,`
                            and
                            `),d=y(M,"SPAN",{class:!0});var ee=g(d);_=E(ee,b),ee.forEach(h),m=T(M),N=y(M,"SPAN",{class:!0});var ie=g(N);G.l(ie),ie.forEach(h),R=T(M),j=y(M,"SPAN",{class:!0});var Z=g(j);A=Ia(Z,!1),x=T(Z),Z.forEach(h),P=y(M,"SPAN",{class:!0});var H=g(P);C=E(H,"."),H.forEach(h),M.forEach(h),this.h()},h(){o(n,"class","vl_prefix"),o(s,"class","group1noun"),o(d,"class","group2noun"),o(N,"class","conclusion"),A.a=x,o(j,"class","pvalue"),o(P,"class","period"),o(e,"class","conclusiontext")},m(k,M){O(k,e,M),f(e,n),f(n,a),f(a,l),f(n,r),f(e,i),f(e,s),f(s,u),f(e,p),f(e,d),f(d,_),f(e,m),f(e,N),G.m(N,null),f(e,R),f(e,j),A.m(L,j),f(j,x),f(e,P),f(P,C)},p(k,M){M[0]&1&&c!==(c=k[0].populations[0].label+"")&&ue(u,c),M[0]&1&&b!==(b=k[0].populations[1].label+"")&&ue(_,b),z!==(z=U(k,M))&&(G.d(1),G=z(k),G&&(G.c(),G.m(N,null))),M[0]&1&&L!==(L=as(k[0].populations[1].comparisons[0])+"")&&A.p(L)},d(k){k&&h(e),G.d()}}}function Mc(t){let e;return{c(){e=w("are statistically indistinguishable")},l(n){e=E(n,"are statistically indistinguishable")},m(n,a){O(n,e,a)},d(n){n&&h(e)}}}function Ac(t){let e;return{c(){e=w("differ")},l(n){e=E(n,"differ")},m(n,a){O(n,e,a)},d(n){n&&h(e)}}}function ao(t){let e,n;return e=new dc({props:{info:t[0].populations}}),{c(){Ma(e.$$.fragment)},l(a){Aa(e.$$.fragment,a)},m(a,l){Pa(e,a,l),n=!0},p(a,l){const r={};l[0]&1&&(r.info=a[0].populations),e.$set(r)},i(a){n||($e(e.$$.fragment,a),n=!0)},o(a){Ze(e.$$.fragment,a),n=!1},d(a){xa(e,a)}}}function lo(t){let e,n,a,l,r,i,s,c,u,p,d,b,_,m;return p=new bc({}),{c(){e=v("div"),n=v("p"),a=v("span"),l=w("Statistics."),r=w(`
                        Each entry in this triangle plot shows the p-value for the difference in viral load between the indicated groups.`),i=D(),s=v("p"),c=w(`Brighter entries indicate smaller p-values and therefore  more statistically significant differences.
                        Note that differences can be highly significant, but still small. Scale for p-values:`),u=D(),Ma(p.$$.fragment),d=D(),b=v("p"),_=w("See the main text for more regarding this statistical approach."),this.h()},l(N){e=y(N,"DIV",{class:!0});var V=g(e);n=y(V,"P",{class:!0});var R=g(n);a=y(R,"SPAN",{class:!0});var j=g(a);l=E(j,"Statistics."),j.forEach(h),r=E(R,`
                        Each entry in this triangle plot shows the p-value for the difference in viral load between the indicated groups.`),R.forEach(h),i=T(V),s=y(V,"P",{class:!0});var A=g(s);c=E(A,`Brighter entries indicate smaller p-values and therefore  more statistically significant differences.
                        Note that differences can be highly significant, but still small. Scale for p-values:`),A.forEach(h),u=T(V),Aa(p.$$.fragment,V),d=T(V),b=y(V,"P",{class:!0});var L=g(b);_=E(L,"See the main text for more regarding this statistical approach."),L.forEach(h),V.forEach(h),this.h()},h(){o(a,"class","statistics"),o(n,"class","plegend_text"),o(s,"class","plegend_text"),o(b,"class","plegend_text"),o(e,"class","plegend")},m(N,V){O(N,e,V),f(e,n),f(n,a),f(a,l),f(n,r),f(e,i),f(e,s),f(s,c),f(e,u),Pa(p,e,null),f(e,d),f(e,b),f(b,_),m=!0},i(N){m||($e(p.$$.fragment,N),m=!0)},o(N){Ze(p.$$.fragment,N),m=!1},d(N){N&&h(e),xa(p)}}}function io(t,e){let n,a,l=e[3][e[45]].displayName+"",r,i;return{key:t,first:null,c(){n=v("option"),a=new Sa(!1),r=D(),this.h()},l(s){n=y(s,"OPTION",{});var c=g(n);a=Ia(c,!1),r=T(c),c.forEach(h),this.h()},h(){a.a=r,n.__value=i=e[45],n.value=n.__value,this.first=n},m(s,c){O(s,n,c),a.m(l,n),f(n,r)},p(s,c){e=s,c[0]&8&&l!==(l=e[3][e[45]].displayName+"")&&a.p(l),c[0]&8&&i!==(i=e[45])&&(n.__value=i,n.value=n.__value)},d(s){s&&h(n)}}}function ro(t){let e,n,a,l,r;return{c(){e=v("span"),n=w("10"),a=v("sup"),l=w(t[6]),r=w(" copies of viral mRNA/mL")},l(i){e=y(i,"SPAN",{});var s=g(e);n=E(s,"10"),a=y(s,"SUP",{});var c=g(a);l=E(c,t[6]),c.forEach(h),r=E(s," copies of viral mRNA/mL"),s.forEach(h)},m(i,s){O(i,e,s),f(e,n),f(e,a),f(a,l),f(e,r)},p(i,s){s[0]&64&&ue(l,i[6])},d(i){i&&h(e)}}}function Pc(t){let e,n,a;return{c(){e=w("antigen test with an LOD of 10"),n=v("sup"),a=w(t[6])},l(l){e=E(l,"antigen test with an LOD of 10"),n=y(l,"SUP",{});var r=g(n);a=E(r,t[6]),r.forEach(h)},m(l,r){O(l,e,r),O(l,n,r),f(n,a)},p(l,r){r[0]&64&&ue(a,l[6])},d(l){l&&h(e),l&&h(n)}}}function xc(t){let e,n=t[3][t[5]].displayName+"",a;return{c(){e=new Sa(!1),a=ce(),this.h()},l(l){e=Ia(l,!1),a=ce(),this.h()},h(){e.a=a},m(l,r){e.m(n,l,r),O(l,a,r)},p(l,r){r[0]&40&&n!==(n=l[3][l[5]].displayName+"")&&e.p(n)},d(l){l&&h(a),l&&e.d()}}}function so(t){let e=[],n=new Map,a,l=t[0].populations.filter(mo);const r=i=>i[42].label;for(let i=0;i<l.length;i+=1){let s=Us(t,l,i),c=r(s);n.set(c,e[i]=oo(c,s))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();a=ce()},l(i){for(let s=0;s<e.length;s+=1)e[s].l(i);a=ce()},m(i,s){for(let c=0;c<e.length;c+=1)e[c].m(i,s);O(i,a,s)},p(i,s){s[0]&3&&(l=i[0].populations.filter(mo),e=On(e,s,r,1,i,l,n,a.parentNode,jn,oo,a,Us))},d(i){for(let s=0;s<e.length;s+=1)e[s].d(i);i&&h(a)}}}function oo(t,e){let n,a,l,r,i,s,c=e[42].label+"",u,p,d,b,_,m,N;return{key:t,first:null,c(){n=v("span"),a=v("input"),i=D(),s=v("label"),u=w(c),d=D(),b=v("br"),_=D(),this.h()},l(V){n=y(V,"SPAN",{});var R=g(n);a=y(R,"INPUT",{type:!0,id:!0,name:!0}),i=T(R),s=y(R,"LABEL",{for:!0,class:!0});var j=g(s);u=E(j,c),j.forEach(h),d=T(R),b=y(R,"BR",{class:!0}),_=T(R),R.forEach(h),this.h()},h(){o(a,"type","radio"),o(a,"id",l=e[42].label),o(a,"name","group_for_performance"),a.__value=r=e[42].label,a.value=a.__value,e[28][0].push(a),o(s,"for",p=e[42].label),o(s,"class","radio_button_label"),o(b,"class","splitradio"),this.first=n},m(V,R){O(V,n,R),f(n,a),a.checked=a.__value===e[1],f(n,i),f(n,s),f(s,u),f(n,d),f(n,b),f(n,_),m||(N=we(a,"change",e[27]),m=!0)},p(V,R){e=V,R[0]&1&&l!==(l=e[42].label)&&o(a,"id",l),R[0]&1&&r!==(r=e[42].label)&&(a.__value=r,a.value=a.__value),R[0]&2&&(a.checked=a.__value===e[1]),R[0]&1&&c!==(c=e[42].label+"")&&ue(u,c),R[0]&1&&p!==(p=e[42].label)&&o(s,"for",p)},d(V){V&&h(n),e[28][0].splice(e[28][0].indexOf(a),1),m=!1,N()}}}function fo(t){let e,n,a,l,r,i,s=t[7].label+"",c,u,p,d,b,_;e=new Do({props:{info:[t[7]],catagories:["negatives","positives"],joy:!1,highlightOne:!1,infectivityThreshold:t[2]}});let m=t[0].populations.length==1&&co(),N=t[14]!=null&&uo(t),V=t[13]!=null&&ho(t),R=["positive","negative"],j=[];for(let A=0;A<2;A+=1)j[A]=_o(Gs(t,R,A));return{c(){Ma(e.$$.fragment),n=D(),a=v("div"),l=w(`In
                `),m&&m.c(),r=D(),i=v("span"),c=w(s),p=D(),N&&N.c(),d=D(),V&&V.c(),b=D();for(let A=0;A<2;A+=1)j[A].c();this.h()},l(A){Aa(e.$$.fragment,A),n=T(A),a=y(A,"DIV",{class:!0});var L=g(a);l=E(L,`In
                `),m&&m.l(L),r=T(L),i=y(L,"SPAN",{class:!0,style:!0});var x=g(i);c=E(x,s),x.forEach(h),p=T(L),N&&N.l(L),d=T(L),V&&V.l(L),b=T(L);for(let P=0;P<2;P+=1)j[P].l(L);L.forEach(h),this.h()},h(){o(i,"class","ag_test_group"),o(i,"style",u=`color: ${t[7].colors.negatives[0]}`),o(a,"class","performance_commentary")},m(A,L){Pa(e,A,L),O(A,n,L),O(A,a,L),f(a,l),m&&m.m(a,null),f(a,r),f(a,i),f(i,c),f(a,p),N&&N.m(a,null),f(a,d),V&&V.m(a,null),f(a,b);for(let x=0;x<2;x+=1)j[x].m(a,null);_=!0},p(A,L){const x={};if(L[0]&128&&(x.info=[A[7]]),L[0]&4&&(x.infectivityThreshold=A[2]),e.$set(x),A[0].populations.length==1?m||(m=co(),m.c(),m.m(a,r)):m&&(m.d(1),m=null),(!_||L[0]&128)&&s!==(s=A[7].label+"")&&ue(c,s),(!_||L[0]&128&&u!==(u=`color: ${A[7].colors.negatives[0]}`))&&o(i,"style",u),A[14]!=null?N?N.p(A,L):(N=uo(A),N.c(),N.m(a,d)):N&&(N.d(1),N=null),A[13]!=null?V?V.p(A,L):(V=ho(A),V.c(),V.m(a,b)):V&&(V.d(1),V=null),L[0]&128){R=["positive","negative"];let P;for(P=0;P<2;P+=1){const C=Gs(A,R,P);j[P]?j[P].p(C,L):(j[P]=_o(C),j[P].c(),j[P].m(a,null))}for(;P<2;P+=1)j[P].d(1)}},i(A){_||($e(e.$$.fragment,A),_=!0)},o(A){Ze(e.$$.fragment,A),_=!1},d(A){xa(e,A),A&&h(n),A&&h(a),m&&m.d(),N&&N.d(),V&&V.d(),We(j,A)}}}function co(t){let e;return{c(){e=w("all")},l(n){e=E(n,"all")},m(n,a){O(n,e,a)},d(n){n&&h(e)}}}function uo(t){let e,n,a,l,r,i=t[14].toFixed(2)+"",s;return{c(){e=w(`the
                    `),n=v("span"),a=w("sensitivity"),l=w(`
                    for detecting contagiousness is
                    `),r=v("span"),s=w(i),this.h()},l(c){e=E(c,`the
                    `),n=y(c,"SPAN",{class:!0});var u=g(n);a=E(u,"sensitivity"),u.forEach(h),l=E(c,`
                    for detecting contagiousness is
                    `),r=y(c,"SPAN",{class:!0,g:!0});var p=g(r);s=E(p,i),p.forEach(h),this.h()},h(){o(n,"class","senspec_label"),o(r,"class","senspec_value"),o(r,"g","")},m(c,u){O(c,e,u),O(c,n,u),f(n,a),O(c,l,u),O(c,r,u),f(r,s)},p(c,u){u[0]&16384&&i!==(i=c[14].toFixed(2)+"")&&ue(s,i)},d(c){c&&h(e),c&&h(n),c&&h(l),c&&h(r)}}}function ho(t){let e,n,a,l,r,i=t[13].toFixed(2)+"",s,c;return{c(){e=w(`and the
                    `),n=v("span"),a=w("specificity"),l=w(`
                    is
                    `),r=v("span"),s=w(i),c=w("."),this.h()},l(u){e=E(u,`and the
                    `),n=y(u,"SPAN",{class:!0});var p=g(n);a=E(p,"specificity"),p.forEach(h),l=E(u,`
                    is
                    `),r=y(u,"SPAN",{class:!0});var d=g(r);s=E(d,i),c=E(d,"."),d.forEach(h),this.h()},h(){o(n,"class","senspec_label"),o(r,"class","senspec_value")},m(u,p){O(u,e,p),O(u,n,p),f(n,a),O(u,l,p),O(u,r,p),f(r,s),f(r,c)},p(u,p){p[0]&8192&&i!==(i=u[13].toFixed(2)+"")&&ue(s,i)},d(u){u&&h(e),u&&h(n),u&&h(l),u&&h(r)}}}function _o(t){let e,n,a,l,r,i,s,c;return{c(){e=v("p"),n=W("svg"),a=W("rect"),i=w(`
                    Predicted to test `),s=w(t[39]),c=w(` on the antigen test
                  `),this.h()},l(u){e=y(u,"P",{class:!0});var p=g(e);n=X(p,"svg",{height:!0,width:!0,fill:!0,stroke:!0,"stroke-width":!0});var d=g(n);a=X(d,"rect",{width:!0,height:!0}),g(a).forEach(h),d.forEach(h),i=E(p,`
                    Predicted to test `),s=E(p,t[39]),c=E(p,` on the antigen test
                  `),p.forEach(h),this.h()},h(){o(a,"width","100%"),o(a,"height","100%"),o(n,"height","1em"),o(n,"width","1em"),o(n,"fill",l=ma(t[7].colors[`${t[39]}s`][0],.4)),o(n,"stroke",r=t[7].colors[`${t[39]}s`][0]),o(n,"stroke-width","4"),o(e,"class","anti_legend svelte-jvjk58")},m(u,p){O(u,e,p),f(e,n),f(n,a),f(e,i),f(e,s),f(e,c)},p(u,p){p[0]&128&&l!==(l=ma(u[7].colors[`${u[39]}s`][0],.4))&&o(n,"fill",l),p[0]&128&&r!==(r=u[7].colors[`${u[39]}s`][0])&&o(n,"stroke",r)},d(u){u&&h(e)}}}function Sc(t){let e,n,a,l,r,i,s,c,u,p,d,b,_,m,N,V,R,j,A,L,x,P,C,U,z,G,k,M,S,q,le,ee,ie,Z,H,B,J,Y,ne,De,Te,F,Q,K,Ne,Me,ct,ut,En,Da,ht,Ta,Dt,Va,$a,Oa,tt,ja,Tt,Ha,Ra,Wt,Ca,za,he,Xt,Yt,Xe,nt,Fa,at,Vt,Re,Ce,Ga,Ye,dt,Nn,Ua,Ba,_t,qa,Wa,Xa,Kt,ze,Gn,Ya,Qt,lt,Ka,Qa,pt,gt,Za,Zt,it,$t,Fe=[],$i=new Map,Ja,el,Mn,tl,Jt,mt,nl,Ot,al,ll,il,rt,jt,rl,sl,Ke,An,ol,fl,Ge,cl,en,ul,hl,tn,dl,_l,nn,pl,gl,Ht,ml,an,bl,vl,bt,vt,ln,yl,kl,Ae,yt,wl,Ue=[],Oi=new Map,El,Be,Pn,Nl,Ml,Oe,Al,Pl,st,rn,kt,xl,Sl,wt,Et,Il=t[0].populations.filter(go).length>1,Ll,ot,Dl,sn,Qe,xn,Tl,Vl,Ve,$l,de,Ol,on,jl,Hl,_e,Rl,fn,Cl,zl,Nt,Rt,Fl,Gl,je,Ul,ae,Sn,Bl,ql,Mt,Wl,cn,Xl,Yl,Kl,At,Ql,Ct,Zl,Jl,ei,In,ti,ni,un,ai,li,Ln,ii,ri,hn,si,oi,Dn,fi,ci,Pt,ui,zt,hi,di,Pe,_i,ji,pe=t[4]&&Ys(t),ke=t[0].populations.length==1&&Zs(),ge=t[0].populations.length>1&&Js(t);gt=new Do({props:{info:t[0].populations,joy:!0,highlightOne:!0,highlightedGroupLabel:t[12],y_scale:t[10],infectivityThreshold:t[2]}});let Un=t[0].populations;const Hi=I=>I[42].label;for(let I=0;I<Un.length;I+=1){let $=qs(t,Un,I),te=Hi($);$i.set(te,Fe[I]=to(te,$))}let me=t[0].populations.length==2&&no(t),re=t[0].populations.length>2&&ao(t),oe=t[0].populations.length>2&&lo(),Bn=Object.keys(t[3]);const Ri=I=>I[45];for(let I=0;I<Bn.length;I+=1){let $=Bs(t,Bn,I),te=Ri($);Oi.set(te,Ue[I]=io(te,$))}let be=t[6]>=0&&ro(t);function Ci(I,$){if(I[3][I[5]])return xc;if(I[6]>=0)return Pc}let dn=Ci(t),ve=dn&&dn(t),ye=Il&&so(t),se=t[7]&&fo(t);return{c(){e=v("div"),n=v("div"),a=v("img"),r=D(),i=v("div"),s=v("ul"),c=v("li"),u=v("a"),p=w("Arnaout Laboratory for Immunomics and Informatics"),b=D(),_=v("ul"),m=v("li"),N=v("a"),V=w("Publications"),j=D(),A=v("li"),L=v("a"),x=w("Team"),C=D(),U=v("li"),z=v("a"),G=w("Contribute"),M=D(),S=v("header"),q=v("h1"),le=w("Learning from COVID-19 Viral Loads"),ee=D(),ie=v("h2"),Z=w(`How viral loads vary—or don't—across patients can predict the performance
                 of antigen tests in different groups`),H=D(),B=v("p"),J=w(`COVID-19 test results are usually reported simply as
      “positive” or “negative.” However, the
      amount of virus a person produces—`),Y=v("span"),ne=w(`the
      viral load`),De=w(`—can vary. As clinical microbiologists
      responsible for COVID-19 testing at a major medical center,
      we `),Te=v("a"),F=w("estimated"),Q=w(`
      viral load for over `),K=v("span"),Ne=w("40,000 patients"),Me=w(`
      who had a positive PCR test at our hospital from 2020-2023 so
      you can see how viral loads vary—or
      don't—across age, sex, and so on.`),ct=D(),ut=v("h3"),En=w("How do viral loads vary across patient groups?"),Da=D(),ht=v("p"),Ta=w("COVID-19 viral loads can vary "),Dt=v("a"),Va=w(`a
      billion fold`),$a=w(` from person to person. Within each person, it
      starts low, reaches a peak (often preceding symptoms), and then
      falls again as the infection comes under control. Based on our
      observations, we hypothesized that most groups exhibit the same
      range of viral loads. If true, then antigen tests (see below),
      which a person can take at home, would be equally effective for
      most groups. If not, then certain groups might require separate
      trials to get the most benefit from antigen tests.`),Oa=D(),tt=v("p"),ja=w(`A generous grant from the
            `),Tt=v("a"),Ha=w(`Reagan-Udall Foundation for
        the FDA`),Ra=w(` allowed us to test this hypothesis. We used fully
        anonymized data to protect patient privacy. Instead of simply
        reporting our own observations, we have made the results
        available here to everyone, so you can explore and compare
        whatever group or groups that may be of interest to you. This
        can include comparison of complex subgroups, such as
        healthy-weight vs. overweight >60-year-old inpatients or sick-
        vs. well-appearing patients with presumed early vs. delta
        vs. omicron variants.
            `),Wt=v("span"),Ca=w("Please explore for yourself!"),za=D(),he=v("div"),Xt=v("div"),Yt=v("div"),Xe=v("fieldset"),nt=v("legend"),Fa=w(`Explore groups
                    `),at=W("svg"),Vt=W("g"),Re=W("line"),Ce=W("line"),Ga=D(),Ye=v("div"),dt=v("div"),Nn=v("strong"),Ua=w("Group"),Ba=D(),_t=v("button"),qa=w("Reset"),Wa=D(),pe&&pe.c(),Xa=D(),Kt=v("div"),ze=v("h1"),ke&&ke.c(),Gn=D(),ge&&ge.c(),Ya=D(),Qt=v("div"),lt=v("p"),Ka=w("Displaying the first eight plots. Click subsets of the checkboxes to see more (eight at a time)."),Qa=D(),pt=v("div"),Ma(gt.$$.fragment),Za=D(),Zt=v("div"),it=v("div"),$t=v("div");for(let I=0;I<Fe.length;I+=1)Fe[I].c();Ja=D(),me&&me.c(),el=D(),Mn=v("p"),tl=D(),Jt=v("div"),mt=v("p"),nl=w(`To test whether between-group differences are significant, we
      calculated the p-value for each pair of groups according to a
      statistical test called the `),Ot=v("a"),al=w(`Mann-Whitney
      U test (MWU)`),ll=w(`. MWU is a commonly used test when data do not
      follow a bell-shaped curve. The MWU p-value measures how likely
      it is that two distributions—here, the distributions of
      viral loads for each pair of groups—are drawn from the
      same underlying distribution. A large p-value means the two
      groups in the pair are statistically indistinguishable; a low
      value mean they differ more than would be expected by chance.`),il=D(),rt=v("div"),jt=v("div"),re&&re.c(),rl=D(),oe&&oe.c(),sl=D(),Ke=v("div"),An=v("h3"),ol=w(`How can specific antigen tests be expected to perform on the
             above groups?`),fl=D(),Ge=v("p"),cl=w(`Antigen tests are less sensitive than PCR
      tests but have the advantage that they can be self-administered
      and used at home. For the antigen tests in the pulldown menu
      below on the left, the antigen test and a PCR test have been run
      at the same time on the same people. This real-world data
      can `),en=v("span"),ul=w(`predict how well these antigen tests will
      perform`),hl=w(" on different groups "),tn=v("span"),dl=w(`without
      having to run time-consuming and expensive trials`),_l=w(` on each
      group selected above. `),nn=v("span"),pl=w(`Select each group using
      the radio buttons below to compare expected antigen-test
      performance.`),gl=D(),Ht=v("p"),ml=w(`When paired trials that directly compare an
        antigen test to PCR have not been performed, we can still
        predict how sensitive an antigen test is for detecting
        contagiousness by using the antigen test’s limit of detection
        (LOD), which you can set below on the right. If the antigen
        test you’re looking for does not appear in the
        dropdown, `),an=v("span"),bl=w(`set the LOD to see how sensitive
        your antigen test is.`),vl=D(),bt=v("div"),vt=v("fieldset"),ln=v("legend"),yl=w("Antigen Test"),kl=D(),Ae=v("select"),yt=v("option"),wl=w("-- select one --");for(let I=0;I<Ue.length;I+=1)Ue[I].c();El=D(),Be=v("fieldset"),Pn=v("legend"),Nl=w("Limit of detection (LOD)"),Ml=D(),Oe=v("input"),Al=D(),be&&be.c(),Pl=D(),st=v("div"),rn=v("div"),kt=v("h1"),xl=w(`Performance of
                `),ve&&ve.c(),Sl=D(),wt=v("div"),Et=v("div"),ye&&ye.c(),Ll=D(),ot=v("div"),se&&se.c(),Dl=D(),sn=v("div"),Qe=v("details"),xn=v("summary"),Tl=w("Show More Settings"),Vl=D(),Ve=v("div"),$l=w(`Scaling on y axes:
            `),de=v("input"),Ol=D(),on=v("label"),jl=w("Normalize fractions across groups (recommended)"),Hl=D(),_e=v("input"),Rl=D(),fn=v("label"),Cl=w("No normalization"),zl=D(),Nt=v("div"),Rt=v("label"),Fl=w("Infectivity Threshold (copies viral mRNA/mL):"),Gl=D(),je=v("input"),Ul=D(),ae=v("footer"),Sn=v("h3"),Bl=w("How did we estimate contagiousness?"),ql=D(),Mt=v("p"),Wl=w(`Managing a pandemic requires being able to determine not only
      who is infected, but who is likely to be infectious
      or `),cn=v("span"),Xl=w("contagious"),Yl=w(`. Note that
      contagiousness depends on many factors, including proximity,
      exposure time, and protection (both physical barriers such as
      masks and immunological defenses such as vaccination or recent
      infection), and can vary over time as viral load rises and
      falls.`),Kl=D(),At=v("p"),Ql=w("Fortunately, "),Ct=v("a"),Zl=w(`in
      vitro experiments`),Jl=w(`—growing a patient's virus on cells
      in a petri dish—can provide a clinically useful lower
      bound: if virus at a given viral load fails to replicate under
      these ideal laboratory conditions, in which there is no immune
      response or medication to combat it, that viral load is highly
      unlikely to result in infectious transmission under imperfect
      real-world conditions. Therefore, a person with a viral load
      below this threshold can be reasonably considered to be
      non-contagious.`),ei=D(),In=v("h3"),ti=w("Who did this work?"),ni=D(),un=v("p"),ai=w(`This work was led by Ramy Arnaout and carried out by Alex
      Morgan, Elisa Contreras, Michie Yasuda, Sanjucta Dutta, James
      E. Kirby, and Stefan Riedel at the Beth Israel Deaconess Medical
      Center and Don Hamel and Phyllis Kanki at the Harvard T.H. Chan
      School of Public Health, both in Boston, Massachusetts,
      USA.`),li=D(),Ln=v("h3"),ii=w("How do I cite this work?"),ri=D(),hn=v("p"),si=w("Arnaout, R.A. et al. Learning from COVID-19 Viral Loads. 2023"),oi=D(),Dn=v("h3"),fi=w("What if I have other questions, comments, or suggestions?"),ci=D(),Pt=v("p"),ui=w(`We appreciate your feedback. Please email us
            at
            `),zt=v("a"),hi=w("rarnaout@bidmc.harvard.edu"),di=w("."),this.h()},l(I){e=y(I,"DIV",{class:!0});var $=g(e);n=y($,"DIV",{id:!0,class:!0});var te=g(n);a=y(te,"IMG",{src:!0}),te.forEach(h),r=T($),i=y($,"DIV",{id:!0});var zi=g(i);s=y(zi,"UL",{id:!0});var qn=g(s);c=y(qn,"LI",{});var Fi=g(c);u=y(Fi,"A",{class:!0,href:!0,target:!0});var Gi=g(u);p=E(Gi,"Arnaout Laboratory for Immunomics and Informatics"),Gi.forEach(h),Fi.forEach(h),b=T(qn),_=y(qn,"UL",{id:!0});var _n=g(_);m=y(_n,"LI",{});var Ui=g(m);N=y(Ui,"A",{href:!0,target:!0});var Bi=g(N);V=E(Bi,"Publications"),Bi.forEach(h),Ui.forEach(h),j=T(_n),A=y(_n,"LI",{});var qi=g(A);L=y(qi,"A",{href:!0,target:!0});var Wi=g(L);x=E(Wi,"Team"),Wi.forEach(h),qi.forEach(h),C=T(_n),U=y(_n,"LI",{});var Xi=g(U);z=y(Xi,"A",{href:!0,target:!0});var Yi=g(z);G=E(Yi,"Contribute"),Yi.forEach(h),Xi.forEach(h),_n.forEach(h),qn.forEach(h),zi.forEach(h),M=T($),S=y($,"HEADER",{});var He=g(S);q=y(He,"H1",{});var Ki=g(q);le=E(Ki,"Learning from COVID-19 Viral Loads"),Ki.forEach(h),ee=T(He),ie=y(He,"H2",{});var Qi=g(ie);Z=E(Qi,`How viral loads vary—or don't—across patients can predict the performance
                 of antigen tests in different groups`),Qi.forEach(h),H=T(He),B=y(He,"P",{class:!0});var xt=g(B);J=E(xt,`COVID-19 test results are usually reported simply as
      “positive” or “negative.” However, the
      amount of virus a person produces—`),Y=y(xt,"SPAN",{class:!0});var Zi=g(Y);ne=E(Zi,`the
      viral load`),Zi.forEach(h),De=E(xt,`—can vary. As clinical microbiologists
      responsible for COVID-19 testing at a major medical center,
      we `),Te=y(xt,"A",{class:!0,href:!0});var Ji=g(Te);F=E(Ji,"estimated"),Ji.forEach(h),Q=E(xt,`
      viral load for over `),K=y(xt,"SPAN",{class:!0});var er=g(K);Ne=E(er,"40,000 patients"),er.forEach(h),Me=E(xt,`
      who had a positive PCR test at our hospital from 2020-2023 so
      you can see how viral loads vary—or
      don't—across age, sex, and so on.`),xt.forEach(h),ct=T(He),ut=y(He,"H3",{});var tr=g(ut);En=E(tr,"How do viral loads vary across patient groups?"),tr.forEach(h),Da=T(He),ht=y(He,"P",{class:!0});var Wn=g(ht);Ta=E(Wn,"COVID-19 viral loads can vary "),Dt=y(Wn,"A",{class:!0,href:!0});var nr=g(Dt);Va=E(nr,`a
      billion fold`),nr.forEach(h),$a=E(Wn,` from person to person. Within each person, it
      starts low, reaches a peak (often preceding symptoms), and then
      falls again as the infection comes under control. Based on our
      observations, we hypothesized that most groups exhibit the same
      range of viral loads. If true, then antigen tests (see below),
      which a person can take at home, would be equally effective for
      most groups. If not, then certain groups might require separate
      trials to get the most benefit from antigen tests.`),Wn.forEach(h),Oa=T(He),tt=y(He,"P",{class:!0});var Tn=g(tt);ja=E(Tn,`A generous grant from the
            `),Tt=y(Tn,"A",{class:!0,href:!0});var ar=g(Tt);Ha=E(ar,`Reagan-Udall Foundation for
        the FDA`),ar.forEach(h),Ra=E(Tn,` allowed us to test this hypothesis. We used fully
        anonymized data to protect patient privacy. Instead of simply
        reporting our own observations, we have made the results
        available here to everyone, so you can explore and compare
        whatever group or groups that may be of interest to you. This
        can include comparison of complex subgroups, such as
        healthy-weight vs. overweight >60-year-old inpatients or sick-
        vs. well-appearing patients with presumed early vs. delta
        vs. omicron variants.
            `),Wt=y(Tn,"SPAN",{class:!0});var lr=g(Wt);Ca=E(lr,"Please explore for yourself!"),lr.forEach(h),Tn.forEach(h),He.forEach(h),za=T($),he=y($,"DIV",{});var xe=g(he);Xt=y(xe,"DIV",{class:!0});var ir=g(Xt);Yt=y(ir,"DIV",{class:!0});var rr=g(Yt);Xe=y(rr,"FIELDSET",{class:!0});var Xn=g(Xe);nt=y(Xn,"LEGEND",{id:!0,class:!0});var pi=g(nt);Fa=E(pi,`Explore groups
                    `),at=X(pi,"svg",{height:!0,width:!0,overflow:!0,class:!0});var sr=g(at);Vt=X(sr,"g",{transform:!0});var gi=g(Vt);Re=X(gi,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),g(Re).forEach(h),Ce=X(gi,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),g(Ce).forEach(h),gi.forEach(h),sr.forEach(h),pi.forEach(h),Ga=T(Xn),Ye=y(Xn,"DIV",{id:!0,class:!0});var Yn=g(Ye);dt=y(Yn,"DIV",{id:!0});var Kn=g(dt);Nn=y(Kn,"STRONG",{});var or=g(Nn);Ua=E(or,"Group"),or.forEach(h),Ba=T(Kn),_t=y(Kn,"BUTTON",{id:!0,class:!0});var fr=g(_t);qa=E(fr,"Reset"),fr.forEach(h),Kn.forEach(h),Wa=T(Yn),pe&&pe.l(Yn),Yn.forEach(h),Xn.forEach(h),rr.forEach(h),ir.forEach(h),Xa=T(xe),Kt=y(xe,"DIV",{class:!0});var cr=g(Kt);ze=y(cr,"H1",{id:!0,class:!0});var Qn=g(ze);ke&&ke.l(Qn),Gn=T(Qn),ge&&ge.l(Qn),Qn.forEach(h),cr.forEach(h),Ya=T(xe),Qt=y(xe,"DIV",{class:!0});var ur=g(Qt);lt=y(ur,"P",{class:!0,id:!0});var hr=g(lt);Ka=E(hr,"Displaying the first eight plots. Click subsets of the checkboxes to see more (eight at a time)."),hr.forEach(h),ur.forEach(h),Qa=T(xe),pt=y(xe,"DIV",{class:!0});var Zn=g(pt);Aa(gt.$$.fragment,Zn),Za=T(Zn),Zt=y(Zn,"DIV",{class:!0});var dr=g(Zt);it=y(dr,"DIV",{id:!0});var Jn=g(it);$t=y(Jn,"DIV",{id:!0});var _r=g($t);for(let Gt=0;Gt<Fe.length;Gt+=1)Fe[Gt].l(_r);_r.forEach(h),Ja=T(Jn),me&&me.l(Jn),Jn.forEach(h),dr.forEach(h),Zn.forEach(h),el=T(xe),Mn=y(xe,"P",{class:!0}),g(Mn).forEach(h),tl=T(xe),Jt=y(xe,"DIV",{class:!0});var pr=g(Jt);mt=y(pr,"P",{class:!0});var ea=g(mt);nl=E(ea,`To test whether between-group differences are significant, we
      calculated the p-value for each pair of groups according to a
      statistical test called the `),Ot=y(ea,"A",{class:!0,href:!0});var gr=g(Ot);al=E(gr,`Mann-Whitney
      U test (MWU)`),gr.forEach(h),ll=E(ea,`. MWU is a commonly used test when data do not
      follow a bell-shaped curve. The MWU p-value measures how likely
      it is that two distributions—here, the distributions of
      viral loads for each pair of groups—are drawn from the
      same underlying distribution. A large p-value means the two
      groups in the pair are statistically indistinguishable; a low
      value mean they differ more than would be expected by chance.`),ea.forEach(h),pr.forEach(h),il=T(xe),rt=y(xe,"DIV",{class:!0});var ta=g(rt);jt=y(ta,"DIV",{class:!0});var mr=g(jt);re&&re.l(mr),mr.forEach(h),rl=T(ta),oe&&oe.l(ta),ta.forEach(h),xe.forEach(h),sl=T($),Ke=y($,"DIV",{class:!0});var pn=g(Ke);An=y(pn,"H3",{});var br=g(An);ol=E(br,`How can specific antigen tests be expected to perform on the
             above groups?`),br.forEach(h),fl=T(pn),Ge=y(pn,"P",{class:!0});var Ft=g(Ge);cl=E(Ft,`Antigen tests are less sensitive than PCR
      tests but have the advantage that they can be self-administered
      and used at home. For the antigen tests in the pulldown menu
      below on the left, the antigen test and a PCR test have been run
      at the same time on the same people. This real-world data
      can `),en=y(Ft,"SPAN",{class:!0});var vr=g(en);ul=E(vr,`predict how well these antigen tests will
      perform`),vr.forEach(h),hl=E(Ft," on different groups "),tn=y(Ft,"SPAN",{class:!0});var yr=g(tn);dl=E(yr,`without
      having to run time-consuming and expensive trials`),yr.forEach(h),_l=E(Ft,` on each
      group selected above. `),nn=y(Ft,"SPAN",{class:!0});var kr=g(nn);pl=E(kr,`Select each group using
      the radio buttons below to compare expected antigen-test
      performance.`),kr.forEach(h),Ft.forEach(h),gl=T(pn),Ht=y(pn,"P",{class:!0});var mi=g(Ht);ml=E(mi,`When paired trials that directly compare an
        antigen test to PCR have not been performed, we can still
        predict how sensitive an antigen test is for detecting
        contagiousness by using the antigen test’s limit of detection
        (LOD), which you can set below on the right. If the antigen
        test you’re looking for does not appear in the
        dropdown, `),an=y(mi,"SPAN",{class:!0});var wr=g(an);bl=E(wr,`set the LOD to see how sensitive
        your antigen test is.`),wr.forEach(h),mi.forEach(h),pn.forEach(h),vl=T($),bt=y($,"DIV",{class:!0});var na=g(bt);vt=y(na,"FIELDSET",{class:!0});var aa=g(vt);ln=y(aa,"LEGEND",{class:!0});var Er=g(ln);yl=E(Er,"Antigen Test"),Er.forEach(h),kl=T(aa),Ae=y(aa,"SELECT",{class:!0,name:!0,id:!0});var bi=g(Ae);yt=y(bi,"OPTION",{});var Nr=g(yt);wl=E(Nr,"-- select one --"),Nr.forEach(h);for(let Gt=0;Gt<Ue.length;Gt+=1)Ue[Gt].l(bi);bi.forEach(h),aa.forEach(h),El=T(na),Be=y(na,"FIELDSET",{class:!0});var gn=g(Be);Pn=y(gn,"LEGEND",{});var Mr=g(Pn);Nl=E(Mr,"Limit of detection (LOD)"),Mr.forEach(h),Ml=T(gn),Oe=y(gn,"INPUT",{type:!0,min:!0,max:!0,class:!0,id:!0}),Al=T(gn),be&&be.l(gn),gn.forEach(h),na.forEach(h),Pl=T($),st=y($,"DIV",{class:!0,id:!0});var Ar=g(st);rn=y(Ar,"DIV",{class:!0});var Pr=g(rn);kt=y(Pr,"H1",{class:!0});var vi=g(kt);xl=E(vi,`Performance of
                `),ve&&ve.l(vi),vi.forEach(h),Pr.forEach(h),Ar.forEach(h),Sl=T($),wt=y($,"DIV",{class:!0});var xr=g(wt);Et=y(xr,"DIV",{class:!0,id:!0});var Sr=g(Et);ye&&ye.l(Sr),Sr.forEach(h),xr.forEach(h),Ll=T($),ot=y($,"DIV",{class:!0});var Ir=g(ot);se&&se.l(Ir),Ir.forEach(h),Dl=T($),sn=y($,"DIV",{class:!0});var Lr=g(sn);Qe=y(Lr,"DETAILS",{id:!0});var mn=g(Qe);xn=y(mn,"SUMMARY",{});var Dr=g(xn);Tl=E(Dr,"Show More Settings"),Dr.forEach(h),Vl=T(mn),Ve=y(mn,"DIV",{class:!0});var ft=g(Ve);$l=E(ft,`Scaling on y axes:
            `),de=y(ft,"INPUT",{type:!0,id:!0,name:!0}),Ol=T(ft),on=y(ft,"LABEL",{for:!0});var Tr=g(on);jl=E(Tr,"Normalize fractions across groups (recommended)"),Tr.forEach(h),Hl=T(ft),_e=y(ft,"INPUT",{type:!0,id:!0,name:!0}),Rl=T(ft),fn=y(ft,"LABEL",{for:!0});var Vr=g(fn);Cl=E(Vr,"No normalization"),Vr.forEach(h),ft.forEach(h),zl=T(mn),Nt=y(mn,"DIV",{class:!0});var la=g(Nt);Rt=y(la,"LABEL",{for:!0,name:!0});var $r=g(Rt);Fl=E($r,"Infectivity Threshold (copies viral mRNA/mL):"),$r.forEach(h),Gl=T(la),je=y(la,"INPUT",{type:!0,min:!0,max:!0,class:!0,id:!0}),la.forEach(h),mn.forEach(h),Lr.forEach(h),Ul=T($),ae=y($,"FOOTER",{});var fe=g(ae);Sn=y(fe,"H3",{});var Or=g(Sn);Bl=E(Or,"How did we estimate contagiousness?"),Or.forEach(h),ql=T(fe),Mt=y(fe,"P",{class:!0});var ia=g(Mt);Wl=E(ia,`Managing a pandemic requires being able to determine not only
      who is infected, but who is likely to be infectious
      or `),cn=y(ia,"SPAN",{class:!0});var jr=g(cn);Xl=E(jr,"contagious"),jr.forEach(h),Yl=E(ia,`. Note that
      contagiousness depends on many factors, including proximity,
      exposure time, and protection (both physical barriers such as
      masks and immunological defenses such as vaccination or recent
      infection), and can vary over time as viral load rises and
      falls.`),ia.forEach(h),Kl=T(fe),At=y(fe,"P",{class:!0});var ra=g(At);Ql=E(ra,"Fortunately, "),Ct=y(ra,"A",{class:!0,href:!0});var Hr=g(Ct);Zl=E(Hr,`in
      vitro experiments`),Hr.forEach(h),Jl=E(ra,`—growing a patient's virus on cells
      in a petri dish—can provide a clinically useful lower
      bound: if virus at a given viral load fails to replicate under
      these ideal laboratory conditions, in which there is no immune
      response or medication to combat it, that viral load is highly
      unlikely to result in infectious transmission under imperfect
      real-world conditions. Therefore, a person with a viral load
      below this threshold can be reasonably considered to be
      non-contagious.`),ra.forEach(h),ei=T(fe),In=y(fe,"H3",{});var Rr=g(In);ti=E(Rr,"Who did this work?"),Rr.forEach(h),ni=T(fe),un=y(fe,"P",{class:!0});var Cr=g(un);ai=E(Cr,`This work was led by Ramy Arnaout and carried out by Alex
      Morgan, Elisa Contreras, Michie Yasuda, Sanjucta Dutta, James
      E. Kirby, and Stefan Riedel at the Beth Israel Deaconess Medical
      Center and Don Hamel and Phyllis Kanki at the Harvard T.H. Chan
      School of Public Health, both in Boston, Massachusetts,
      USA.`),Cr.forEach(h),li=T(fe),Ln=y(fe,"H3",{});var zr=g(Ln);ii=E(zr,"How do I cite this work?"),zr.forEach(h),ri=T(fe),hn=y(fe,"P",{class:!0});var Fr=g(hn);si=E(Fr,"Arnaout, R.A. et al. Learning from COVID-19 Viral Loads. 2023"),Fr.forEach(h),oi=T(fe),Dn=y(fe,"H3",{});var Gr=g(Dn);fi=E(Gr,"What if I have other questions, comments, or suggestions?"),Gr.forEach(h),ci=T(fe),Pt=y(fe,"P",{class:!0});var sa=g(Pt);ui=E(sa,`We appreciate your feedback. Please email us
            at
            `),zt=y(sa,"A",{class:!0,href:!0});var Ur=g(zt);hi=E(Ur,"rarnaout@bidmc.harvard.edu"),Ur.forEach(h),di=E(sa,"."),sa.forEach(h),fe.forEach(h),$.forEach(h),this.h()},h(){$o(a.src,l="virus.gif")||o(a,"src",l),o(n,"id","loading"),o(n,"class","hideLoading svelte-jvjk58"),Se(n,"isLoading",t[9]),o(u,"class","no-change"),o(u,"href",d=St(t[8],"top")),o(u,"target","_blank"),o(N,"href",R=St(t[8],"publications")),o(N,"target","_blank"),o(L,"href",P=St(t[8],"team")),o(L,"target","_blank"),o(z,"href",k=St(t[8],"contribute")),o(z,"target","_blank"),o(_,"id","topmenu"),o(s,"id","menu"),o(i,"id","menu"),o(Y,"class","bold"),o(Te,"class","link"),o(Te,"href","https://www.biorxiv.org/content/10.1101/2022.06.20.496929v1"),o(K,"class","bold"),o(B,"class","body_text"),o(Dt,"class","link"),o(Dt,"href","https://www.biorxiv.org/content/10.1101/2022.06.20.496929v1"),o(ht,"class","body_text"),o(Tt,"class","link"),o(Tt,"href","https://reaganudall.org/"),o(Wt,"class","bold"),o(tt,"class","body_text"),o(Re,"x1","0"),o(Re,"y1","0"),o(Re,"x2","6"),o(Re,"y2","6"),o(Re,"stroke","black"),o(Re,"stroke-width","3"),o(Re,"stroke-linecap","round"),o(Ce,"x1","6"),o(Ce,"y1","6"),o(Ce,"x2","0"),o(Ce,"y2","12"),o(Ce,"stroke","black"),o(Ce,"stroke-width","3"),o(Ce,"stroke-linecap","round"),o(Vt,"transform","translate(4,8)"),o(at,"height","20px"),o(at,"width","20px"),o(at,"overflow","visible"),o(at,"class","svelte-jvjk58"),o(nt,"id","select_var_label"),o(nt,"class","select_var_label"),o(_t,"id","resetChecks"),o(_t,"class","bluebutton"),o(dt,"id","select_var_checks"),o(Ye,"id","select_var"),o(Ye,"class","select_var svelte-jvjk58"),o(Xe,"class","svelte-jvjk58"),Se(Xe,"exploreGroupsOpen",t[11]),o(Yt,"class","pickgroup has_bottom_line"),o(Xt,"class","pick_group_padding svelte-jvjk58"),o(ze,"id","comparison_title"),o(ze,"class","comparisons"),o(Kt,"class","max80em"),o(lt,"class","too_many_groups hidden_style svelte-jvjk58"),o(lt,"id","too_many_groups"),Se(lt,"showingBlock",t[0].tooManyQueries),o(Qt,"class","max80em"),o($t,"id","commentary"),o(it,"id","pvalue_text"),o(Zt,"class","meantext"),o(pt,"class","max80emSplit"),o(Mn,"class","spacer svelte-jvjk58"),o(Ot,"class","link"),o(Ot,"href","https://en.wikipedia.org/wiki/Mann%E2%80%93Whitney_U_test"),o(mt,"class","body_text"),o(Jt,"class","antigen_text"),o(jt,"class","pyramid_placeholder"),o(rt,"class","max80emSplit"),o(en,"class","bold"),o(tn,"class","bold"),o(nn,"class","bold"),o(Ge,"class","body_text"),o(an,"class","bold"),o(Ht,"class","body_text"),o(Ke,"class","antigen_text"),o(ln,"class","select_label_antigen"),yt.__value="none",yt.value=yt.__value,o(Ae,"class","select_antigen"),o(Ae,"name","antigenTest"),o(Ae,"id","antigenTest"),t[5]===void 0&&Na(()=>t[25].call(Ae)),o(vt,"class","select_test no_border svelte-jvjk58"),o(Oe,"type","range"),o(Oe,"min","-1"),o(Oe,"max","12"),o(Oe,"class","slider"),o(Oe,"id","lod_slider"),o(Be,"class","select_lod no_border svelte-jvjk58"),o(bt,"class","pickanti has_bottom_line"),o(kt,"class","antigen"),o(rn,"class","antihisto_title"),o(st,"class","max80em hidden_style svelte-jvjk58"),o(st,"id","antihisto"),Se(st,"showingAntigenPerformance",t[15]),o(Et,"class","group_radio"),o(Et,"id","group_radio"),o(wt,"class","max80em hidden_style svelte-jvjk58"),Se(wt,"showingAntigenPerformance",t[15]),o(ot,"class","max80emSplit hidden_style svelte-jvjk58"),Se(ot,"showingAntigenPerformance",t[15]),o(de,"type","radio"),o(de,"id","scale_absolute"),o(de,"name","y_scale"),de.__value="scale_absolute",de.value=de.__value,t[28][1].push(de),o(on,"for","scale_absolute"),o(_e,"type","radio"),o(_e,"id","scale_shared"),o(_e,"name","y_scale"),_e.__value="scale_shared",_e.value=_e.__value,t[28][1].push(_e),o(fn,"for","scale_shared"),o(Ve,"class","indent"),o(Rt,"for","infectivityThreshold"),o(Rt,"name","infectivityThreshold"),o(je,"type","range"),o(je,"min","0"),o(je,"max","12"),o(je,"class","slider"),o(je,"id","infectivityThreshold"),o(Nt,"class","indent"),o(Qe,"id","moresettings"),o(sn,"class","antigen_text"),o(cn,"class","bold"),o(Mt,"class","body_text"),o(Ct,"class","link"),o(Ct,"href","https://www.ncbi.nlm.nih.gov/pmc/articles/PMC9293398/"),o(At,"class","body_text"),o(un,"class","body_text"),o(hn,"class","body_text"),o(zt,"class","email"),o(zt,"href","mailto:rarnaout@bidmc.harvard.edu"),o(Pt,"class","body_text"),o(e,"class","all_content")},m(I,$){O(I,e,$),f(e,n),f(n,a),f(e,r),f(e,i),f(i,s),f(s,c),f(c,u),f(u,p),f(s,b),f(s,_),f(_,m),f(m,N),f(N,V),f(_,j),f(_,A),f(A,L),f(L,x),f(_,C),f(_,U),f(U,z),f(z,G),f(e,M),f(e,S),f(S,q),f(q,le),f(S,ee),f(S,ie),f(ie,Z),f(S,H),f(S,B),f(B,J),f(B,Y),f(Y,ne),f(B,De),f(B,Te),f(Te,F),f(B,Q),f(B,K),f(K,Ne),f(B,Me),f(S,ct),f(S,ut),f(ut,En),f(S,Da),f(S,ht),f(ht,Ta),f(ht,Dt),f(Dt,Va),f(ht,$a),f(S,Oa),f(S,tt),f(tt,ja),f(tt,Tt),f(Tt,Ha),f(tt,Ra),f(tt,Wt),f(Wt,Ca),f(e,za),f(e,he),f(he,Xt),f(Xt,Yt),f(Yt,Xe),f(Xe,nt),f(nt,Fa),f(nt,at),f(at,Vt),f(Vt,Re),f(Vt,Ce),f(Xe,Ga),f(Xe,Ye),f(Ye,dt),f(dt,Nn),f(Nn,Ua),f(dt,Ba),f(dt,_t),f(_t,qa),f(Ye,Wa),pe&&pe.m(Ye,null),f(he,Xa),f(he,Kt),f(Kt,ze),ke&&ke.m(ze,null),f(ze,Gn),ge&&ge.m(ze,null),f(he,Ya),f(he,Qt),f(Qt,lt),f(lt,Ka),f(he,Qa),f(he,pt),Pa(gt,pt,null),f(pt,Za),f(pt,Zt),f(Zt,it),f(it,$t);for(let te=0;te<Fe.length;te+=1)Fe[te].m($t,null);f(it,Ja),me&&me.m(it,null),f(he,el),f(he,Mn),f(he,tl),f(he,Jt),f(Jt,mt),f(mt,nl),f(mt,Ot),f(Ot,al),f(mt,ll),f(he,il),f(he,rt),f(rt,jt),re&&re.m(jt,null),f(rt,rl),oe&&oe.m(rt,null),f(e,sl),f(e,Ke),f(Ke,An),f(An,ol),f(Ke,fl),f(Ke,Ge),f(Ge,cl),f(Ge,en),f(en,ul),f(Ge,hl),f(Ge,tn),f(tn,dl),f(Ge,_l),f(Ge,nn),f(nn,pl),f(Ke,gl),f(Ke,Ht),f(Ht,ml),f(Ht,an),f(an,bl),f(e,vl),f(e,bt),f(bt,vt),f(vt,ln),f(ln,yl),f(vt,kl),f(vt,Ae),f(Ae,yt),f(yt,wl);for(let te=0;te<Ue.length;te+=1)Ue[te].m(Ae,null);Br(Ae,t[5]),f(bt,El),f(bt,Be),f(Be,Pn),f(Pn,Nl),f(Be,Ml),f(Be,Oe),oa(Oe,t[6]),f(Be,Al),be&&be.m(Be,null),f(e,Pl),f(e,st),f(st,rn),f(rn,kt),f(kt,xl),ve&&ve.m(kt,null),f(e,Sl),f(e,wt),f(wt,Et),ye&&ye.m(Et,null),f(e,Ll),f(e,ot),se&&se.m(ot,null),f(e,Dl),f(e,sn),f(sn,Qe),f(Qe,xn),f(xn,Tl),f(Qe,Vl),f(Qe,Ve),f(Ve,$l),f(Ve,de),de.checked=de.__value===t[10],f(Ve,Ol),f(Ve,on),f(on,jl),f(Ve,Hl),f(Ve,_e),_e.checked=_e.__value===t[10],f(Ve,Rl),f(Ve,fn),f(fn,Cl),f(Qe,zl),f(Qe,Nt),f(Nt,Rt),f(Rt,Fl),f(Nt,Gl),f(Nt,je),oa(je,t[2]),f(e,Ul),f(e,ae),f(ae,Sn),f(Sn,Bl),f(ae,ql),f(ae,Mt),f(Mt,Wl),f(Mt,cn),f(cn,Xl),f(Mt,Yl),f(ae,Kl),f(ae,At),f(At,Ql),f(At,Ct),f(Ct,Zl),f(At,Jl),f(ae,ei),f(ae,In),f(In,ti),f(ae,ni),f(ae,un),f(un,ai),f(ae,li),f(ae,Ln),f(Ln,ii),f(ae,ri),f(ae,hn),f(hn,si),f(ae,oi),f(ae,Dn),f(Dn,fi),f(ae,ci),f(ae,Pt),f(Pt,ui),f(Pt,zt),f(zt,hi),f(Pt,di),Pe=!0,_i||(ji=[we(nt,"click",t[17]),we(_t,"click",t[19]),we(Ae,"change",t[25]),we(Oe,"change",t[26]),we(Oe,"input",t[26]),we(de,"change",t[29]),we(_e,"change",t[30]),we(je,"change",t[31]),we(je,"input",t[31]),we(e,"click",t[18])],_i=!0)},p(I,$){(!Pe||$[0]&512)&&Se(n,"isLoading",I[9]),(!Pe||$[0]&256&&d!==(d=St(I[8],"top")))&&o(u,"href",d),(!Pe||$[0]&256&&R!==(R=St(I[8],"publications")))&&o(N,"href",R),(!Pe||$[0]&256&&P!==(P=St(I[8],"team")))&&o(L,"href",P),(!Pe||$[0]&256&&k!==(k=St(I[8],"contribute")))&&o(z,"href",k),I[4]?pe?pe.p(I,$):(pe=Ys(I),pe.c(),pe.m(Ye,null)):pe&&(pe.d(1),pe=null),(!Pe||$[0]&2048)&&Se(Xe,"exploreGroupsOpen",I[11]),I[0].populations.length==1?ke||(ke=Zs(),ke.c(),ke.m(ze,Gn)):ke&&(ke.d(1),ke=null),I[0].populations.length>1?ge?ge.p(I,$):(ge=Js(I),ge.c(),ge.m(ze,null)):ge&&(ge.d(1),ge=null),(!Pe||$[0]&1)&&Se(lt,"showingBlock",I[0].tooManyQueries);const te={};$[0]&1&&(te.info=I[0].populations),$[0]&4096&&(te.highlightedGroupLabel=I[12]),$[0]&1024&&(te.y_scale=I[10]),$[0]&4&&(te.infectivityThreshold=I[2]),gt.$set(te),$[0]&7405569&&(Un=I[0].populations,Fe=On(Fe,$,Hi,1,I,Un,$i,$t,jn,to,null,qs)),I[0].populations.length==2?me?me.p(I,$):(me=no(I),me.c(),me.m(it,null)):me&&(me.d(1),me=null),I[0].populations.length>2?re?(re.p(I,$),$[0]&1&&$e(re,1)):(re=ao(I),re.c(),$e(re,1),re.m(jt,null)):re&&(ki(),Ze(re,1,1,()=>{re=null}),yi()),I[0].populations.length>2?oe?$[0]&1&&$e(oe,1):(oe=lo(),oe.c(),$e(oe,1),oe.m(rt,null)):oe&&(ki(),Ze(oe,1,1,()=>{oe=null}),yi()),$[0]&8&&(Bn=Object.keys(I[3]),Ue=On(Ue,$,Ri,1,I,Bn,Oi,Ae,jn,io,null,Bs)),$[0]&40&&Br(Ae,I[5]),$[0]&64&&oa(Oe,I[6]),I[6]>=0?be?be.p(I,$):(be=ro(I),be.c(),be.m(Be,null)):be&&(be.d(1),be=null),dn===(dn=Ci(I))&&ve?ve.p(I,$):(ve&&ve.d(1),ve=dn&&dn(I),ve&&(ve.c(),ve.m(kt,null))),(!Pe||$[0]&32768)&&Se(st,"showingAntigenPerformance",I[15]),$[0]&1&&(Il=I[0].populations.filter(go).length>1),Il?ye?ye.p(I,$):(ye=so(I),ye.c(),ye.m(Et,null)):ye&&(ye.d(1),ye=null),(!Pe||$[0]&32768)&&Se(wt,"showingAntigenPerformance",I[15]),I[7]?se?(se.p(I,$),$[0]&128&&$e(se,1)):(se=fo(I),se.c(),$e(se,1),se.m(ot,null)):se&&(ki(),Ze(se,1,1,()=>{se=null}),yi()),(!Pe||$[0]&32768)&&Se(ot,"showingAntigenPerformance",I[15]),$[0]&1024&&(de.checked=de.__value===I[10]),$[0]&1024&&(_e.checked=_e.__value===I[10]),$[0]&4&&oa(je,I[2])},i(I){Pe||($e(gt.$$.fragment,I),$e(re),$e(oe),$e(se),Pe=!0)},o(I){Ze(gt.$$.fragment,I),Ze(re),Ze(oe),Ze(se),Pe=!1},d(I){I&&h(e),pe&&pe.d(),ke&&ke.d(),ge&&ge.d(),xa(gt);for(let $=0;$<Fe.length;$+=1)Fe[$].d();me&&me.d(),re&&re.d(),oe&&oe.d();for(let $=0;$<Ue.length;$+=1)Ue[$].d();be&&be.d(),ve&&ve.d(),ye&&ye.d(),se&&se.d(),t[28][1].splice(t[28][1].indexOf(de),1),t[28][1].splice(t[28][1].indexOf(_e),1),_i=!1,bo(ji)}}}function St(t,e){return`${t}#${e}`}function po(t,e,n){for(;t;){if(t.tagName==e&&t.classList.contains(n))return!0;t=t.parentNode}return!1}function Vo(t,e=.00125){for(let n=1;n<t.length;++n)for(let a=0;a<n;++a){let l={};if(l.pvalue=t[n].comparisons[a],l.pvalue!=null&&l.pvalue<e)return!0}return!1}function Ic(t,e,n,a){if(!n)return{};if(!n.data)return{};if(n.catagories.negatives="Antigen Negatives",n.catagories.positives="Antigen Positives",t>=0)for(let l of n.data)l.viralLoadLog<t?(l.negatives=l.count,l.positives=0):(l.negatives=0,l.positives=l.count);else if(e){let l=e.coef,r=e.intercept;for(let i of n.data){let s=1/(1+Math.exp(-l*i.viralLoadLog-r));i.positives=s*i.count,i.negatives=i.count-i.positives}}n.tp=0,n.fn=0,n.fp=0,n.tn=0;for(let l of n.data)l.viralLoadLog>=a?(n.tp+=l.positives,n.fn+=l.negatives):(n.tn+=l.negatives,n.fp+=l.positives);return n.tp+n.fn>0?n.sensitivity=n.tp/(n.tp+n.fn):n.sensitivity=null,n.tn+n.fp>0?n.specificity=n.tn/(n.tn+n.fp):n.specificity=null,{sensitivity:n.sensitivity,specificity:n.specificity}}const go=t=>t.shouldPlot,mo=t=>t.shouldPlot;function Lc(t,e,n){let a,l,r,i,s,c="https://www.example.com/index.HTM",u=!0,p={populations:[],tooManyQueries:!1,splitDescription:""},d="";Oo(async()=>{fetch(b("assays")).then(F=>F.json()).then(F=>A(F)),fetch(b("variables")).then(F=>F.json()).then(F=>x(F))});function b(F){return`${To}/api/${F}`}let _=5,m="scale_absolute",N=!1;function V(){n(11,N=!N)}function R(F){po(F.target,"DIV","select_var")||po(F.target,"FIELDSET","exploreGroupsOpen")||n(11,N=!1)}let j={};function A(F){n(3,j={});let Q=F.items;for(let Ne of Q){let Me=Ne.id;n(3,j[Me]=Ne,j)}let K=Q[Math.floor(Math.random()*Q.length)];n(5,z=K.id)}let L=null;function x(F){let Q=F.items;for(let K of Q){Object.defineProperty(K,"checked",{get(){return this._checked},set(Me){if(Me!=this._checked){for(let ct of this.splits)ct._checked=Me;this._checked=Me}}});let Ne=K.splits;for(let Me of Ne)Me.owner=K,Me._checked&&(Me.owner._checked=!0),Object.defineProperty(Me,"checked",{get(){return this._checked},set(ct){if(ct!=this._checked)if(this._checked=ct,this._checked)this.owner._checked=!0;else{let ut=!0;for(let En of this.owner.splits)if(En._checked){ut=!1;break}ut&&(this.owner._checked=!1)}}})}n(4,L=F)}function P(){for(let F of L.items)F.checked=!1;n(4,L)}function C(F){n(9,u=!0);let Q=b("data");if(Q+="/viralloads?",F)for(let K of F.items)for(let Ne of K.splits)Ne.checked&&(Q+=`${K.id}[]=${Ne.value}&`);fetch(Q).then(K=>K.json()).then(K=>U(K))}function U(F){if(!F.populations.find(Q=>Q.label==d)){let Q=F.populations.find(K=>K.shouldPlot);Q?n(1,d=Q.label):n(1,d="")}n(0,p=F),n(8,c="https://entrop.ai/index.html"),n(9,u=!1)}let z="none";function G(){z!="none"&&n(6,k=-1)}let k=-1;function M(){k>=0&&n(5,z="none")}let S;function q(F){n(12,S=F.target.getAttribute("app_group_name"))}function le(F){F.target.getAttribute("app_group_name")==S&&n(12,S=null)}let ee=new Intl.NumberFormat("en-US",{maximumSignificantDigits:4});const ie=[[],[]];function Z(F,Q){F[Q].checked=this.checked,n(4,L)}function H(F,Q){F[Q].checked=this.checked,n(4,L)}function B(){z=jo(this),n(5,z),n(3,j)}function J(){k=qr(this.value),n(6,k)}function Y(){d=this.__value,n(1,d)}function ne(){m=this.__value,n(10,m)}function De(){m=this.__value,n(10,m)}function Te(){_=qr(this.value),n(2,_)}return t.$$.update=()=>{t.$$.dirty[0]&3&&n(7,a=p.populations.find(F=>F.label==d)),t.$$.dirty[0]&16&&L&&C(L),t.$$.dirty[0]&1&&n(16,l=p.populations.length<4),t.$$.dirty[0]&32&&z&&G(),t.$$.dirty[0]&64&&k>=0&&M(),t.$$.dirty[0]&96&&n(15,r=k>=0||z!="none"),t.$$.dirty[0]&236&&n(14,{sensitivity:i,specificity:s}=Ic(k,j[z],a,_),i,(n(13,s),n(6,k),n(3,j),n(5,z),n(7,a),n(2,_),n(0,p),n(1,d)))},[p,d,_,j,L,z,k,a,c,u,m,N,S,s,i,r,l,V,R,P,q,le,ee,Z,H,B,J,Y,ie,ne,De,Te]}class Tc extends ka{constructor(e){super(),wa(this,e,Lc,Sc,Ea,{},null,[-1,-1])}}export{Tc as default};
